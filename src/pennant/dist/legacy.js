"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React = require('react');var t=require("@babel/runtime/helpers/defineProperty"),e=require("react");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var i=n(t),o=r(e),a=n(e);function s(t){return Math.max(3,Math.abs(t)/100)}function u(t){return Math.max(3,Math.abs(t)/50)}function c(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function l(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function f(t){l(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function h(t,e){l(2,arguments);var n=f(t).getTime(),r=c(e);return new Date(n+r)}function d(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function p(t){l(1,arguments);var e=f(t);return!isNaN(e)}var v={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function g(t){return function(e){var n=e||{},r=n.width?String(n.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var m={date:g({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:g({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:g({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},y={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function _(t){return function(e,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=i.width?String(i.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{var s=t.defaultWidth,u=i.width?String(i.width):t.defaultWidth;r=t.values[u]||t.values[s]}return r[t.argumentCallback?t.argumentCallback(e):e]}}function w(t){return function(e,n){var r=String(e),i=n||{},o=i.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],s=r.match(a);if(!s)return null;var u,c=s[0],l=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(l)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}(l,(function(t){return t.test(c)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(l,(function(t){return t.test(c)})),u=t.valueCallback?t.valueCallback(u):u,{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(c.length)}}}var x,b={code:"en-US",formatDistance:function(t,e,n){var r;return n=n||{},r="string"==typeof v[t]?v[t]:1===e?v[t].one:v[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:m,formatRelative:function(t,e,n,r){return y[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:_({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:_({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:_({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:_({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:_({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(x={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),r=e||{},i=n.match(x.matchPattern);if(!i)return null;var o=i[0],a=n.match(x.parsePattern);if(!a)return null;var s=x.valueCallback?x.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}),era:w({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:w({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:w({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:w({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:w({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function E(t,e){l(2,arguments);var n=c(e);return h(t,-n)}function T(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var A=function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return T("yy"===e?r%100:r,e.length)},S=function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):T(n+1,2)},k=function(t,e){return T(t.getUTCDate(),e.length)},N=function(t,e){return T(t.getUTCHours()%12||12,e.length)},M=function(t,e){return T(t.getUTCHours(),e.length)},C=function(t,e){return T(t.getUTCMinutes(),e.length)},O=function(t,e){return T(t.getUTCSeconds(),e.length)},D=function(t,e){var n=e.length,r=t.getUTCMilliseconds();return T(Math.floor(r*Math.pow(10,n-3)),e.length)};function I(t){l(1,arguments);var e=1,n=f(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function R(t){l(1,arguments);var e=f(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=I(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=I(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function P(t){l(1,arguments);var e=R(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=I(n);return r}function L(t,e){l(1,arguments);var n=e||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:c(i),a=null==n.weekStartsOn?o:c(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=f(t),u=s.getUTCDay(),h=(u<a?7:0)+u-a;return s.setUTCDate(s.getUTCDate()-h),s.setUTCHours(0,0,0,0),s}function z(t,e){l(1,arguments);var n=f(t,e),r=n.getUTCFullYear(),i=e||{},o=i.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:c(a),u=null==i.firstWeekContainsDate?s:c(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(r+1,0,u),h.setUTCHours(0,0,0,0);var d=L(h,e),p=new Date(0);p.setUTCFullYear(r,0,u),p.setUTCHours(0,0,0,0);var v=L(p,e);return n.getTime()>=d.getTime()?r+1:n.getTime()>=v.getTime()?r:r-1}function F(t,e){l(1,arguments);var n=e||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=null==i?1:c(i),a=null==n.firstWeekContainsDate?o:c(n.firstWeekContainsDate),s=z(t,e),u=new Date(0);u.setUTCFullYear(s,0,a),u.setUTCHours(0,0,0,0);var f=L(u,e);return f}var U="midnight",j="noon",B="morning",Y="afternoon",q="evening",W="night",V={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var r=t.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return A(t,e)},Y:function(t,e,n,r){var i=z(t,r),o=i>0?i:1-i;return"YY"===e?T(o%100,2):"Yo"===e?n.ordinalNumber(o,{unit:"year"}):T(o,e.length)},R:function(t,e){return T(R(t),e.length)},u:function(t,e){return T(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return T(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return T(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return S(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return T(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var i=function(t,e){l(1,arguments);var n=f(t),r=L(n,e).getTime()-F(n,e).getTime();return Math.round(r/6048e5)+1}(t,r);return"wo"===e?n.ordinalNumber(i,{unit:"week"}):T(i,e.length)},I:function(t,e,n){var r=function(t){l(1,arguments);var e=f(t),n=I(e).getTime()-P(e).getTime();return Math.round(n/6048e5)+1}(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):T(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):k(t,e)},D:function(t,e,n){var r=function(t){l(1,arguments);var e=f(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/864e5)+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):T(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var i=t.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return T(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var i=t.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return T(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),i=0===r?7:r;switch(e){case"i":return String(i);case"ii":return T(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,i=t.getUTCHours();switch(r=12===i?j:0===i?U:i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,i=t.getUTCHours();switch(r=i>=17?q:i>=12?Y:i>=4?B:W,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var r=t.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return N(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):M(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):T(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):T(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):C(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):O(t,e)},S:function(t,e){return D(t,e)},X:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();if(0===i)return"Z";switch(e){case"X":return X(i);case"XXXX":case"XX":return G(i);case"XXXXX":case"XXX":default:return G(i,":")}},x:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return X(i);case"xxxx":case"xx":return G(i);case"xxxxx":case"xxx":default:return G(i,":")}},O:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+H(i,":");case"OOOO":default:return"GMT"+G(i,":")}},z:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+H(i,":");case"zzzz":default:return"GMT"+G(i,":")}},t:function(t,e,n,r){var i=r._originalDate||t;return T(Math.floor(i.getTime()/1e3),e.length)},T:function(t,e,n,r){return T((r._originalDate||t).getTime(),e.length)}};function H(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=e||"";return n+String(i)+a+T(o,2)}function X(t,e){return t%60==0?(t>0?"-":"+")+T(Math.abs(t)/60,2):G(t,e)}function G(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t);return r+T(Math.floor(i/60),2)+n+T(i%60,2)}function $(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function K(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var Z={p:K,P:function(t,e){var n,r=t.match(/(P+)(p+)?/),i=r[1],o=r[2];if(!o)return $(t,e);switch(i){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;case"PPPP":default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",$(i,e)).replace("{{time}}",K(o,e))}},Q=["D","DD"],J=["YY","YYYY"];function tt(t){return-1!==Q.indexOf(t)}function et(t){return-1!==J.indexOf(t)}function nt(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var rt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,it=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ot=/^'([^]*?)'?$/,at=/''/g,st=/[a-zA-Z]/;function ut(t,e,n){l(2,arguments);var r=String(e),i=n||{},o=i.locale||b,a=o.options&&o.options.firstWeekContainsDate,s=null==a?1:c(a),u=null==i.firstWeekContainsDate?s:c(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=o.options&&o.options.weekStartsOn,v=null==h?0:c(h),g=null==i.weekStartsOn?v:c(i.weekStartsOn);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var m=f(t);if(!p(m))throw new RangeError("Invalid time value");var y=d(m),_=E(m,y),w={firstWeekContainsDate:u,weekStartsOn:g,locale:o,_originalDate:m},x=r.match(it).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,Z[e])(t,o.formatLong,w):t})).join("").match(rt).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return ct(n);var a=V[r];if(a)return!i.useAdditionalWeekYearTokens&&et(n)&&nt(n,e,t),!i.useAdditionalDayOfYearTokens&&tt(n)&&nt(n,e,t),a(_,n,o.localize,w);if(r.match(st))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return x}function ct(t){return t.match(ot)[1].replace(at,"'")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lt=function(){return(lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ht="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function dt(t,e){for(var n,r=/\r\n|[\n\r]/g,i=1,o=e+1;(n=r.exec(t.body))&&n.index<e;)i+=1,o=e+1-(n.index+n[0].length);return{line:i,column:o}}function pt(t){return vt(t.source,dt(t.source,t.start))}function vt(t,e){var n=t.locationOffset.column-1,r=mt(n)+t.body,i=e.line-1,o=t.locationOffset.line-1,a=e.line+o,s=1===e.line?n:0,u=e.column+s,c="".concat(t.name,":").concat(a,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var h=Math.floor(u/80),d=u%80,p=[],v=0;v<f.length;v+=80)p.push(f.slice(v,v+80));return c+gt([["".concat(a),p[0]]].concat(p.slice(1,h+1).map((function(t){return["",t]})),[[" ",mt(d-1)+"^"],["",p[h+1]]]))}return c+gt([["".concat(a-1),l[i-1]],["".concat(a),f],["",mt(u-1)+"^"],["".concat(a+1),l[i+1]]])}function gt(t){var e=t.filter((function(t){return t[0],void 0!==t[1]})),n=Math.max.apply(Math,e.map((function(t){return t[0].length})));return e.map((function(t){var e,r=t[0],i=t[1];return mt(n-(e=r).length)+e+(i?" | "+i:" |")})).join("\n")}function mt(t){return Array(t+1).join(" ")}function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wt(t,e){return!e||"object"!==yt(e)&&"function"!=typeof e?xt(t):e}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(t){var e="function"==typeof Map?new Map:void 0;return(bt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Et(t,arguments,St(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),At(r,t)})(t)}function Et(t,e,n){return(Et=Tt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&At(i,n.prototype),i}).apply(null,arguments)}function Tt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function At(t,e){return(At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}(s,bt(Error));var e,n,r,i,o,a=(e=s,n=Tt(),function(){var t,r=St(e);if(n){var i=St(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return wt(this,t)});function s(t,e,n,r,i,o,u){var c,l,f,h,d;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),d=a.call(this,t);var p,v=Array.isArray(e)?0!==e.length?e:void 0:e?[e]:void 0,g=n;!g&&v&&(g=null===(p=v[0].loc)||void 0===p?void 0:p.source);var m,y=r;!y&&v&&(y=v.reduce((function(t,e){return e.loc&&t.push(e.loc.start),t}),[])),y&&0===y.length&&(y=void 0),r&&n?m=r.map((function(t){return dt(n,t)})):v&&(m=v.reduce((function(t,e){return e.loc&&t.push(dt(e.loc.source,e.loc.start)),t}),[]));var _,w=u;if(null==w&&null!=o){var x=o.extensions;"object"==ft(_=x)&&null!==_&&(w=x)}return Object.defineProperties(xt(d),{name:{value:"GraphQLError"},message:{value:t,enumerable:!0,writable:!0},locations:{value:null!==(c=m)&&void 0!==c?c:void 0,enumerable:null!=m},path:{value:null!=i?i:void 0,enumerable:null!=i},nodes:{value:null!=v?v:void 0},source:{value:null!==(l=g)&&void 0!==l?l:void 0},positions:{value:null!==(f=y)&&void 0!==f?f:void 0},originalError:{value:o},extensions:{value:null!==(h=w)&&void 0!==h?h:void 0,enumerable:null!=w}}),null!=o&&o.stack?(Object.defineProperty(xt(d),"stack",{value:o.stack,writable:!0,configurable:!0}),wt(d)):(Error.captureStackTrace?Error.captureStackTrace(xt(d),s):Object.defineProperty(xt(d),"stack",{value:Error().stack,writable:!0,configurable:!0}),d)}return r=s,(i=[{key:"toString",value:function(){return function(t){var e=t.message;if(t.nodes)for(var n=0,r=t.nodes;n<r.length;n++){var i=r[n];i.loc&&(e+="\n\n"+pt(i.loc))}else if(t.source&&t.locations)for(var o=0,a=t.locations;o<a.length;o++){var s=a[o];e+="\n\n"+vt(t.source,s)}return e}(this)}},{key:ht,get:function(){return"Object"}}])&&_t(r.prototype,i),o&&_t(r,o),s}();function Nt(t,e,n){return new kt("Syntax Error: ".concat(n),void 0,t,[e])}var Mt=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var Ct="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Ot(t){var e=t.prototype.toJSON;"function"==typeof e||function(t,e){if(!Boolean(t))throw new Error(null!=e?e:"Unexpected invariant triggered.")}(0),t.prototype.inspect=e,Ct&&(t.prototype[Ct]=e)}var Dt=function(){function t(t,e,n){this.start=t.start,this.end=e.end,this.startToken=t,this.endToken=e,this.source=n}return t.prototype.toJSON=function(){return{start:this.start,end:this.end}},t}();Ot(Dt);var It=function(){function t(t,e,n,r,i,o,a){this.kind=t,this.start=e,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return t.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();Ot(It);var Rt=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Pt(t){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t){return zt(t,[])}function zt(t,e){switch(Pt(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return null===t?"null":function(t,e){if(-1!==e.indexOf(t))return"[Circular]";var n=[].concat(e,[t]),r=function(t){var e=t[String(Ct)];if("function"==typeof e)return e;if("function"==typeof t.inspect)return t.inspect}(t);if(void 0!==r){var i=r.call(t);if(i!==t)return"string"==typeof i?i:zt(i,n)}else if(Array.isArray(t))return function(t,e){if(0===t.length)return"[]";if(e.length>2)return"[Array]";for(var n=Math.min(10,t.length),r=t.length-n,i=[],o=0;o<n;++o)i.push(zt(t[o],e));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(t,n);return function(t,e){var n=Object.keys(t);if(0===n.length)return"{}";if(e.length>2)return"["+function(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof t.constructor){var n=t.constructor.name;if("string"==typeof n&&""!==n)return n}return e}(t)+"]";return"{ "+n.map((function(n){return n+": "+zt(t[n],e)})).join(", ")+" }"}(t,n)}(t,e);default:return String(t)}}function Ft(t,e){if(!Boolean(t))throw new Error(e)}var Ut="production"===process.env.NODE_ENV?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;if(t){var n=t.constructor,r=e.name;if(r&&n&&n.name===r)throw new Error("Cannot use ".concat(r,' "').concat(t,'" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.'))}return!1};function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Bt=function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof t||Ft(0,"Body must be a string. Received: ".concat(Lt(t),".")),this.body=t,this.name=e,this.locationOffset=n,this.locationOffset.line>0||Ft(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ft(0,"column in locationOffset is 1-indexed and must be positive.")}var e,n,r;return e=t,(n=[{key:ht,get:function(){return"Source"}}])&&jt(e.prototype,n),r&&jt(e,r),t}();var Yt=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function qt(t){var e=t.split(/\r\n|[\n\r]/g),n=function(t){for(var e,n=!0,r=!0,i=0,o=null,a=0;a<t.length;++a)switch(t.charCodeAt(a)){case 13:10===t.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(e=o)&&void 0!==e?e:0}(t);if(0!==n)for(var r=1;r<e.length;r++)e[r]=e[r].slice(n);for(var i=0;i<e.length&&Wt(e[i]);)++i;for(var o=e.length;o>i&&Wt(e[o-1]);)--o;return e.slice(i,o).join("\n")}function Wt(t){for(var e=0;e<t.length;++e)if(" "!==t[e]&&"\t"!==t[e])return!1;return!0}var Vt=function(){function t(t){var e=new It(Rt.SOF,0,0,0,0,null);this.source=t,this.lastToken=e,this.token=e,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},e.lookahead=function(){var t=this.token;if(t.kind!==Rt.EOF)do{var e;t=null!==(e=t.next)&&void 0!==e?e:t.next=Xt(this,t)}while(t.kind===Rt.COMMENT);return t},t}();function Ht(t){return isNaN(t)?Rt.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function Xt(t,e){for(var n=t.source,r=n.body,i=r.length,o=e.end;o<i;){var a=r.charCodeAt(o),s=t.line,u=1+o-t.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++t.line,t.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++t.line,t.lineStart=o;continue;case 33:return new It(Rt.BANG,o,o+1,s,u,e);case 35:return $t(n,o,s,u,e);case 36:return new It(Rt.DOLLAR,o,o+1,s,u,e);case 38:return new It(Rt.AMP,o,o+1,s,u,e);case 40:return new It(Rt.PAREN_L,o,o+1,s,u,e);case 41:return new It(Rt.PAREN_R,o,o+1,s,u,e);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new It(Rt.SPREAD,o,o+3,s,u,e);break;case 58:return new It(Rt.COLON,o,o+1,s,u,e);case 61:return new It(Rt.EQUALS,o,o+1,s,u,e);case 64:return new It(Rt.AT,o,o+1,s,u,e);case 91:return new It(Rt.BRACKET_L,o,o+1,s,u,e);case 93:return new It(Rt.BRACKET_R,o,o+1,s,u,e);case 123:return new It(Rt.BRACE_L,o,o+1,s,u,e);case 124:return new It(Rt.PIPE,o,o+1,s,u,e);case 125:return new It(Rt.BRACE_R,o,o+1,s,u,e);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?Jt(n,o,s,u,e,t):Qt(n,o,s,u,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Kt(n,o,a,s,u,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return ee(n,o,s,u,e)}throw Nt(n,o,Gt(a))}var c=t.line,l=1+o-t.lineStart;return new It(Rt.EOF,i,i,c,l,e)}function Gt(t){return t<32&&9!==t&&10!==t&&13!==t?"Cannot contain the invalid character ".concat(Ht(t),"."):39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(Ht(t),".")}function $t(t,e,n,r,i){var o,a=t.body,s=e;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new It(Rt.COMMENT,e,s,n,r,i,a.slice(e+1,s))}function Kt(t,e,n,r,i,o){var a=t.body,s=n,u=e,c=!1;if(45===s&&(s=a.charCodeAt(++u)),48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw Nt(t,u,"Invalid number, unexpected digit after 0: ".concat(Ht(s),"."))}else u=Zt(t,u,s),s=a.charCodeAt(u);if(46===s&&(c=!0,s=a.charCodeAt(++u),u=Zt(t,u,s),s=a.charCodeAt(u)),69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=Zt(t,u,s),s=a.charCodeAt(u)),46===s||function(t){return 95===t||t>=65&&t<=90||t>=97&&t<=122}(s))throw Nt(t,u,"Invalid number, expected digit but got: ".concat(Ht(s),"."));return new It(c?Rt.FLOAT:Rt.INT,e,u,r,i,o,a.slice(e,u))}function Zt(t,e,n){var r=t.body,i=e,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw Nt(t,i,"Invalid number, expected digit but got: ".concat(Ht(o),"."))}function Qt(t,e,n,r,i){for(var o,a,s,u,c=t.body,l=e+1,f=l,h=0,d="";l<c.length&&!isNaN(h=c.charCodeAt(l))&&10!==h&&13!==h;){if(34===h)return d+=c.slice(f,l),new It(Rt.STRING,e,l+1,n,r,i,d);if(h<32&&9!==h)throw Nt(t,l,"Invalid character within String: ".concat(Ht(h),"."));if(++l,92===h){switch(d+=c.slice(f,l-1),h=c.charCodeAt(l)){case 34:d+='"';break;case 47:d+="/";break;case 92:d+="\\";break;case 98:d+="\b";break;case 102:d+="\f";break;case 110:d+="\n";break;case 114:d+="\r";break;case 116:d+="\t";break;case 117:var p=(o=c.charCodeAt(l+1),a=c.charCodeAt(l+2),s=c.charCodeAt(l+3),u=c.charCodeAt(l+4),te(o)<<12|te(a)<<8|te(s)<<4|te(u));if(p<0){var v=c.slice(l+1,l+5);throw Nt(t,l,"Invalid character escape sequence: \\u".concat(v,"."))}d+=String.fromCharCode(p),l+=4;break;default:throw Nt(t,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}f=++l}}throw Nt(t,l,"Unterminated string.")}function Jt(t,e,n,r,i,o){for(var a=t.body,s=e+3,u=s,c=0,l="";s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new It(Rt.BLOCK_STRING,e,s+3,n,r,i,qt(l));if(c<32&&9!==c&&10!==c&&13!==c)throw Nt(t,s,"Invalid character within String: ".concat(Ht(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw Nt(t,s,"Unterminated string.")}function te(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function ee(t,e,n,r,i){for(var o=t.body,a=o.length,s=e+1,u=0;s!==a&&!isNaN(u=o.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new It(Rt.NAME,e,s,n,r,i,o.slice(e,s))}var ne=function(){function t(t,e){var n=function(t){return Ut(t,Bt)}(t)?t:new Bt(t);this._lexer=new Vt(n),this._options=e}var e=t.prototype;return e.parseName=function(){var t=this.expectToken(Rt.NAME);return{kind:Mt.NAME,value:t.value,loc:this.loc(t)}},e.parseDocument=function(){var t=this._lexer.token;return{kind:Mt.DOCUMENT,definitions:this.many(Rt.SOF,this.parseDefinition,Rt.EOF),loc:this.loc(t)}},e.parseDefinition=function(){if(this.peek(Rt.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Rt.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var t=this._lexer.token;if(this.peek(Rt.BRACE_L))return{kind:Mt.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)};var e,n=this.parseOperationType();return this.peek(Rt.NAME)&&(e=this.parseName()),{kind:Mt.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseOperationType=function(){var t=this.expectToken(Rt.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(t)},e.parseVariableDefinitions=function(){return this.optionalMany(Rt.PAREN_L,this.parseVariableDefinition,Rt.PAREN_R)},e.parseVariableDefinition=function(){var t=this._lexer.token;return{kind:Mt.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Rt.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Rt.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(t)}},e.parseVariable=function(){var t=this._lexer.token;return this.expectToken(Rt.DOLLAR),{kind:Mt.VARIABLE,name:this.parseName(),loc:this.loc(t)}},e.parseSelectionSet=function(){var t=this._lexer.token;return{kind:Mt.SELECTION_SET,selections:this.many(Rt.BRACE_L,this.parseSelection,Rt.BRACE_R),loc:this.loc(t)}},e.parseSelection=function(){return this.peek(Rt.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var t,e,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(Rt.COLON)?(t=r,e=this.parseName()):e=r,{kind:Mt.FIELD,alias:t,name:e,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Rt.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(t){var e=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(Rt.PAREN_L,e,Rt.PAREN_R)},e.parseArgument=function(){var t=this._lexer.token,e=this.parseName();return this.expectToken(Rt.COLON),{kind:Mt.ARGUMENT,name:e,value:this.parseValueLiteral(!1),loc:this.loc(t)}},e.parseConstArgument=function(){var t=this._lexer.token;return{kind:Mt.ARGUMENT,name:this.parseName(),value:(this.expectToken(Rt.COLON),this.parseValueLiteral(!0)),loc:this.loc(t)}},e.parseFragment=function(){var t=this._lexer.token;this.expectToken(Rt.SPREAD);var e=this.expectOptionalKeyword("on");return!e&&this.peek(Rt.NAME)?{kind:Mt.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(t)}:{kind:Mt.INLINE_FRAGMENT,typeCondition:e?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseFragmentDefinition=function(){var t,e=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(t=this._options)||void 0===t?void 0:t.experimentalFragmentVariables)?{kind:Mt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}:{kind:Mt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},e.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(t){var e=this._lexer.token;switch(e.kind){case Rt.BRACKET_L:return this.parseList(t);case Rt.BRACE_L:return this.parseObject(t);case Rt.INT:return this._lexer.advance(),{kind:Mt.INT,value:e.value,loc:this.loc(e)};case Rt.FLOAT:return this._lexer.advance(),{kind:Mt.FLOAT,value:e.value,loc:this.loc(e)};case Rt.STRING:case Rt.BLOCK_STRING:return this.parseStringLiteral();case Rt.NAME:switch(this._lexer.advance(),e.value){case"true":return{kind:Mt.BOOLEAN,value:!0,loc:this.loc(e)};case"false":return{kind:Mt.BOOLEAN,value:!1,loc:this.loc(e)};case"null":return{kind:Mt.NULL,loc:this.loc(e)};default:return{kind:Mt.ENUM,value:e.value,loc:this.loc(e)}}case Rt.DOLLAR:if(!t)return this.parseVariable()}throw this.unexpected()},e.parseStringLiteral=function(){var t=this._lexer.token;return this._lexer.advance(),{kind:Mt.STRING,value:t.value,block:t.kind===Rt.BLOCK_STRING,loc:this.loc(t)}},e.parseList=function(t){var e=this,n=this._lexer.token;return{kind:Mt.LIST,values:this.any(Rt.BRACKET_L,(function(){return e.parseValueLiteral(t)}),Rt.BRACKET_R),loc:this.loc(n)}},e.parseObject=function(t){var e=this,n=this._lexer.token;return{kind:Mt.OBJECT,fields:this.any(Rt.BRACE_L,(function(){return e.parseObjectField(t)}),Rt.BRACE_R),loc:this.loc(n)}},e.parseObjectField=function(t){var e=this._lexer.token,n=this.parseName();return this.expectToken(Rt.COLON),{kind:Mt.OBJECT_FIELD,name:n,value:this.parseValueLiteral(t),loc:this.loc(e)}},e.parseDirectives=function(t){for(var e=[];this.peek(Rt.AT);)e.push(this.parseDirective(t));return e},e.parseDirective=function(t){var e=this._lexer.token;return this.expectToken(Rt.AT),{kind:Mt.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t),loc:this.loc(e)}},e.parseTypeReference=function(){var t,e=this._lexer.token;return this.expectOptionalToken(Rt.BRACKET_L)?(t=this.parseTypeReference(),this.expectToken(Rt.BRACKET_R),t={kind:Mt.LIST_TYPE,type:t,loc:this.loc(e)}):t=this.parseNamedType(),this.expectOptionalToken(Rt.BANG)?{kind:Mt.NON_NULL_TYPE,type:t,loc:this.loc(e)}:t},e.parseNamedType=function(){var t=this._lexer.token;return{kind:Mt.NAMED_TYPE,name:this.parseName(),loc:this.loc(t)}},e.parseTypeSystemDefinition=function(){var t=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(t.kind===Rt.NAME)switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(t)},e.peekDescription=function(){return this.peek(Rt.STRING)||this.peek(Rt.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(Rt.BRACE_L,this.parseOperationTypeDefinition,Rt.BRACE_R);return{kind:Mt.SCHEMA_DEFINITION,description:e,directives:n,operationTypes:r,loc:this.loc(t)}},e.parseOperationTypeDefinition=function(){var t=this._lexer.token,e=this.parseOperationType();this.expectToken(Rt.COLON);var n=this.parseNamedType();return{kind:Mt.OPERATION_TYPE_DEFINITION,operation:e,type:n,loc:this.loc(t)}},e.parseScalarTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:Mt.SCALAR_TYPE_DEFINITION,description:e,name:n,directives:r,loc:this.loc(t)}},e.parseObjectTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Mt.OBJECT_TYPE_DEFINITION,description:e,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(t)}},e.parseImplementsInterfaces=function(){var t;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLImplementsInterfaces)){var e=[];this.expectOptionalToken(Rt.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(Rt.AMP)||this.peek(Rt.NAME));return e}return this.delimitedMany(Rt.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var t;return!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLEmptyFields)&&this.peek(Rt.BRACE_L)&&this._lexer.lookahead().kind===Rt.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Rt.BRACE_L,this.parseFieldDefinition,Rt.BRACE_R)},e.parseFieldDefinition=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(Rt.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:Mt.FIELD_DEFINITION,description:e,name:n,arguments:r,type:i,directives:o,loc:this.loc(t)}},e.parseArgumentDefs=function(){return this.optionalMany(Rt.PAREN_L,this.parseInputValueDef,Rt.PAREN_R)},e.parseInputValueDef=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName();this.expectToken(Rt.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(Rt.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:Mt.INPUT_VALUE_DEFINITION,description:e,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(t)}},e.parseInterfaceTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Mt.INTERFACE_TYPE_DEFINITION,description:e,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(t)}},e.parseUnionTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:Mt.UNION_TYPE_DEFINITION,description:e,name:n,directives:r,types:i,loc:this.loc(t)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(Rt.EQUALS)?this.delimitedMany(Rt.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:Mt.ENUM_TYPE_DEFINITION,description:e,name:n,directives:r,values:i,loc:this.loc(t)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(Rt.BRACE_L,this.parseEnumValueDefinition,Rt.BRACE_R)},e.parseEnumValueDefinition=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:Mt.ENUM_VALUE_DEFINITION,description:e,name:n,directives:r,loc:this.loc(t)}},e.parseInputObjectTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:Mt.INPUT_OBJECT_TYPE_DEFINITION,description:e,name:n,directives:r,fields:i,loc:this.loc(t)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(Rt.BRACE_L,this.parseInputValueDef,Rt.BRACE_R)},e.parseTypeSystemExtension=function(){var t=this._lexer.lookahead();if(t.kind===Rt.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)},e.parseSchemaExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var e=this.parseDirectives(!0),n=this.optionalMany(Rt.BRACE_L,this.parseOperationTypeDefinition,Rt.BRACE_R);if(0===e.length&&0===n.length)throw this.unexpected();return{kind:Mt.SCHEMA_EXTENSION,directives:e,operationTypes:n,loc:this.loc(t)}},e.parseScalarTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var e=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:Mt.SCALAR_TYPE_EXTENSION,name:e,directives:n,loc:this.loc(t)}},e.parseObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var e=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Mt.OBJECT_TYPE_EXTENSION,name:e,interfaces:n,directives:r,fields:i,loc:this.loc(t)}},e.parseInterfaceTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var e=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Mt.INTERFACE_TYPE_EXTENSION,name:e,interfaces:n,directives:r,fields:i,loc:this.loc(t)}},e.parseUnionTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Mt.UNION_TYPE_EXTENSION,name:e,directives:n,types:r,loc:this.loc(t)}},e.parseEnumTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Mt.ENUM_TYPE_EXTENSION,name:e,directives:n,values:r,loc:this.loc(t)}},e.parseInputObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Mt.INPUT_OBJECT_TYPE_EXTENSION,name:e,directives:n,fields:r,loc:this.loc(t)}},e.parseDirectiveDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Rt.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:Mt.DIRECTIVE_DEFINITION,description:e,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(t)}},e.parseDirectiveLocations=function(){return this.delimitedMany(Rt.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var t=this._lexer.token,e=this.parseName();if(void 0!==Yt[e.value])return e;throw this.unexpected(t)},e.loc=function(t){var e;if(!0!==(null===(e=this._options)||void 0===e?void 0:e.noLocation))return new Dt(t,this._lexer.lastToken,this._lexer.source)},e.peek=function(t){return this._lexer.token.kind===t},e.expectToken=function(t){var e=this._lexer.token;if(e.kind===t)return this._lexer.advance(),e;throw Nt(this._lexer.source,e.start,"Expected ".concat(ie(t),", found ").concat(re(e),"."))},e.expectOptionalToken=function(t){var e=this._lexer.token;if(e.kind===t)return this._lexer.advance(),e},e.expectKeyword=function(t){var e=this._lexer.token;if(e.kind!==Rt.NAME||e.value!==t)throw Nt(this._lexer.source,e.start,'Expected "'.concat(t,'", found ').concat(re(e),"."));this._lexer.advance()},e.expectOptionalKeyword=function(t){var e=this._lexer.token;return e.kind===Rt.NAME&&e.value===t&&(this._lexer.advance(),!0)},e.unexpected=function(t){var e=null!=t?t:this._lexer.token;return Nt(this._lexer.source,e.start,"Unexpected ".concat(re(e),"."))},e.any=function(t,e,n){this.expectToken(t);for(var r=[];!this.expectOptionalToken(n);)r.push(e.call(this));return r},e.optionalMany=function(t,e,n){if(this.expectOptionalToken(t)){var r=[];do{r.push(e.call(this))}while(!this.expectOptionalToken(n));return r}return[]},e.many=function(t,e,n){this.expectToken(t);var r=[];do{r.push(e.call(this))}while(!this.expectOptionalToken(n));return r},e.delimitedMany=function(t,e){this.expectOptionalToken(t);var n=[];do{n.push(e.call(this))}while(this.expectOptionalToken(t));return n},t}();function re(t){var e=t.value;return ie(t.kind)+(null!=e?' "'.concat(e,'"'):"")}function ie(t){return function(t){return t===Rt.BANG||t===Rt.DOLLAR||t===Rt.AMP||t===Rt.PAREN_L||t===Rt.PAREN_R||t===Rt.SPREAD||t===Rt.COLON||t===Rt.EQUALS||t===Rt.AT||t===Rt.BRACKET_L||t===Rt.BRACKET_R||t===Rt.BRACE_L||t===Rt.PIPE||t===Rt.BRACE_R}(t)?'"'.concat(t,'"'):t}var oe=new Map,ae=new Map,se=!0,ue=!1;function ce(t){return t.replace(/[\s,]+/g," ").trim()}function le(t){var e=new Set,n=[];return t.definitions.forEach((function(t){if("FragmentDefinition"===t.kind){var r=t.name.value,i=ce((a=t.loc).source.body.substring(a.start,a.end)),o=ae.get(r);o&&!o.has(i)?se&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||ae.set(r,o=new Set),o.add(i),e.has(i)||(e.add(i),n.push(t))}else n.push(t);var a})),lt(lt({},t),{definitions:n})}function fe(t){var e=ce(t);if(!oe.has(e)){var n=function(t,e){return new ne(t,e).parseDocument()}(t,{experimentalFragmentVariables:ue});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");oe.set(e,function(t){var e=new Set(t.definitions);e.forEach((function(t){t.loc&&delete t.loc,Object.keys(t).forEach((function(n){var r=t[n];r&&"object"==typeof r&&e.add(r)}))}));var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}(le(n)))}return oe.get(e)}function he(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];"string"==typeof t&&(t=[t]);var r=t[0];return e.forEach((function(e,n){e&&"Document"===e.kind?r+=e.loc.source.body:r+=e,r+=t[n+1]})),fe(r)}var de=Object.assign(he,{gql:he,default:he,resetCaches:function(){oe.clear(),ae.clear()},disableFragmentWarnings:function(){se=!1},enableExperimentalFragmentVariables:function(){ue=!0},disableExperimentalFragmentVariables:function(){ue=!1}});const pe=de`
  fragment CandleDetails on Candle {
    datetime
    high
    low
    open
    close
    volume
  }
`;let ve,ge;function me(t,e){switch(t){case ve.I1M:return e;case ve.I5M:return 5*e;case ve.I15M:return 15*e;case ve.I1H:return 60*e;case ve.I6H:return 60*e*6;case ve.I1D:return 60*e*24;default:throw new Error("Invalid interval")}}de`
  query candlesQuery($marketId: ID!, $interval: Interval!, $since: String!) {
    market(id: $marketId) {
      id
      decimalPlaces
      data {
        priceMonitoringBounds {
          minValidPrice
          maxValidPrice
          referencePrice
        }
      }
      tradableInstrument {
        instrument {
          id
          name
          code
        }
      }
      candles(interval: $interval, since: $since) {
        ...CandleDetails
      }
    }
  }
  ${pe}
`,de`
  subscription candleSubscription($marketId: ID!, $interval: Interval!) {
    candles(marketId: $marketId, interval: $interval) {
      ...CandleDetails
    }
  }
  ${pe}
`,function(t){t.I15M="I15M",t.I1D="I1D",t.I1H="I1H",t.I1M="I1M",t.I5M="I5M",t.I6H="I6H"}(ve||(ve={})),function(t){t.BATCH_AUCTION="BATCH_AUCTION",t.CONTINUOUS="CONTINUOUS",t.MONITORING_AUCTION="MONITORING_AUCTION",t.OPENING_AUCTION="OPENING_AUCTION"}(ge||(ge={}));const ye=t=>{const[e,n]=function(t){const e=t.match(/I(\d+)([MHD])/);if(!e)throw new Error("Invalid interval value");return[parseInt(e[1],10),e[2]]}(t);let r;switch(n){case"M":r=60*e*1e3;break;case"H":r=60*e*60*1e3;break;case"D":r=24*e*60*60*1e3;break;default:throw new Error("Invalid interval unit")}return r};function _e(t,e,n){e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),n&&(e.fillStyle=n,e.fillRect(0,0,t.width,t.height)),e.restore()}function we(t,e=1){return Math.round(e*Math.round(t))/e+.5/e}function xe(t,e=1){return Math.round(e*Math.round(t))/e}const be="#fff",Ee="#292929",Te="#333",Ae="#494949",Se="#ccc",ke="#6e6e6e",Ne="#26ff8a",Me="#246340",Ce="#ff2641",Oe="#d9822b",De="#26ff8a",Ie="#daff0d",Re="#000";function Pe(t,e){let n=0,r=0;const i=[];for(;n<t.length&&r<e.length;)t[n].date<e[r].date?i.push(t[n++]):t[n].date>e[r].date?i.push(e[r++]):(i.push(t[n++]),r++);for(;n<t.length;)i.push(t[n++]);for(;r<e.length;)i.push(e[r++]);return i}var Le=new Date,ze=new Date;function Fe(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Fe((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Le.setTime(+e),ze.setTime(+r),t(Le),t(ze),Math.floor(n(Le,ze))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Ue=Fe((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ue.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Fe((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ue:null};var je=Fe((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Be=Fe((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),Ye=Fe((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),qe=Fe((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5),(t=>t.getDate()-1));function We(t){return Fe((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Ve=We(0),He=We(1);We(2),We(3);var Xe=We(4);We(5),We(6);var Ge=Fe((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),$e=Fe((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));$e.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Fe((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Ke=Fe((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),Ze=Fe((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),Qe=Fe((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function Je(t){return Fe((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var tn=Je(0),en=Je(1);Je(2),Je(3);var nn=Je(4);Je(5),Je(6);var rn=Fe((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),on=Fe((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function an(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function un(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}on.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Fe((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var cn,ln,fn={"-":"",_:" ",0:"0"},hn=/^\s*\d+/,dn=/^%/,pn=/[\\^$*+?|[\]().{}]/g;function vn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function gn(t){return t.replace(pn,"\\$&")}function mn(t){return new RegExp("^(?:"+t.map(gn).join("|")+")","i")}function yn(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function _n(t,e,n){var r=hn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wn(t,e,n){var r=hn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function xn(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bn(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function En(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Tn(t,e,n){var r=hn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function An(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Sn(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kn(t,e,n){var r=hn.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Nn(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Mn(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Cn(t,e,n){var r=hn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function On(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Dn(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function In(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Rn(t,e,n){var r=hn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pn(t,e,n){var r=hn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ln(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function zn(t,e,n){var r=hn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Fn(t,e,n){var r=hn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Un(t,e){return vn(t.getDate(),e,2)}function jn(t,e){return vn(t.getHours(),e,2)}function Bn(t,e){return vn(t.getHours()%12||12,e,2)}function Yn(t,e){return vn(1+qe.count($e(t),t),e,3)}function qn(t,e){return vn(t.getMilliseconds(),e,3)}function Wn(t,e){return qn(t,e)+"000"}function Vn(t,e){return vn(t.getMonth()+1,e,2)}function Hn(t,e){return vn(t.getMinutes(),e,2)}function Xn(t,e){return vn(t.getSeconds(),e,2)}function Gn(t){var e=t.getDay();return 0===e?7:e}function $n(t,e){return vn(Ve.count($e(t)-1,t),e,2)}function Kn(t){var e=t.getDay();return e>=4||0===e?Xe(t):Xe.ceil(t)}function Zn(t,e){return t=Kn(t),vn(Xe.count($e(t),t)+(4===$e(t).getDay()),e,2)}function Qn(t){return t.getDay()}function Jn(t,e){return vn(He.count($e(t)-1,t),e,2)}function tr(t,e){return vn(t.getFullYear()%100,e,2)}function er(t,e){return vn((t=Kn(t)).getFullYear()%100,e,2)}function nr(t,e){return vn(t.getFullYear()%1e4,e,4)}function rr(t,e){var n=t.getDay();return vn((t=n>=4||0===n?Xe(t):Xe.ceil(t)).getFullYear()%1e4,e,4)}function ir(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vn(e/60|0,"0",2)+vn(e%60,"0",2)}function or(t,e){return vn(t.getUTCDate(),e,2)}function ar(t,e){return vn(t.getUTCHours(),e,2)}function sr(t,e){return vn(t.getUTCHours()%12||12,e,2)}function ur(t,e){return vn(1+Qe.count(on(t),t),e,3)}function cr(t,e){return vn(t.getUTCMilliseconds(),e,3)}function lr(t,e){return cr(t,e)+"000"}function fr(t,e){return vn(t.getUTCMonth()+1,e,2)}function hr(t,e){return vn(t.getUTCMinutes(),e,2)}function dr(t,e){return vn(t.getUTCSeconds(),e,2)}function pr(t){var e=t.getUTCDay();return 0===e?7:e}function vr(t,e){return vn(tn.count(on(t)-1,t),e,2)}function gr(t){var e=t.getUTCDay();return e>=4||0===e?nn(t):nn.ceil(t)}function mr(t,e){return t=gr(t),vn(nn.count(on(t),t)+(4===on(t).getUTCDay()),e,2)}function yr(t){return t.getUTCDay()}function _r(t,e){return vn(en.count(on(t)-1,t),e,2)}function wr(t,e){return vn(t.getUTCFullYear()%100,e,2)}function xr(t,e){return vn((t=gr(t)).getUTCFullYear()%100,e,2)}function br(t,e){return vn(t.getUTCFullYear()%1e4,e,4)}function Er(t,e){var n=t.getUTCDay();return vn((t=n>=4||0===n?nn(t):nn.ceil(t)).getUTCFullYear()%1e4,e,4)}function Tr(){return"+0000"}function Ar(){return"%"}function Sr(t){return+t}function kr(t){return Math.floor(+t/1e3)}cn=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=mn(i),l=yn(i),f=mn(o),h=yn(o),d=mn(a),p=yn(a),v=mn(s),g=yn(s),m=mn(u),y=yn(u),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Un,e:Un,f:Wn,g:er,G:rr,H:jn,I:Bn,j:Yn,L:qn,m:Vn,M:Hn,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Sr,s:kr,S:Xn,u:Gn,U:$n,V:Zn,w:Qn,W:Jn,x:null,X:null,y:tr,Y:nr,Z:ir,"%":Ar},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:or,e:or,f:lr,g:xr,G:Er,H:ar,I:sr,j:ur,L:cr,m:fr,M:hr,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Sr,s:kr,S:dr,u:pr,U:vr,V:mr,w:yr,W:_r,x:null,X:null,y:wr,Y:br,Z:Tr,"%":Ar},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return T(t,e,n,r)},d:Mn,e:Mn,f:Pn,g:An,G:Tn,H:On,I:On,j:Cn,L:Rn,m:Nn,M:Dn,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:kn,Q:zn,s:Fn,S:In,u:wn,U:xn,V:bn,w:_n,W:En,x:function(t,e,r){return T(t,n,e,r)},X:function(t,e,n){return T(t,r,e,n)},y:An,Y:Tn,Z:Sn,"%":Ln};function b(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=fn[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function E(t,e){return function(n){var r,i,o=un(1900,void 0,1);if(T(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=sn(un(o.y,0,1))).getUTCDay(),r=i>4||0===i?en.ceil(r):en(r),r=Qe.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=an(un(o.y,0,1))).getDay(),r=i>4||0===i?He.ceil(r):He(r),r=qe.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?sn(un(o.y,0,1)).getUTCDay():an(un(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,sn(o)):an(o)}}function T(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in fn?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=b(n,_),_.X=b(r,_),_.c=b(e,_),w.x=b(n,w),w.X=b(r,w),w.c=b(e,w),{format:function(t){var e=b(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=b(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ln=cn.format,cn.parse,cn.utcFormat,cn.utcParse;const Nr=ln(".%L"),Mr=ln(":%S"),Cr=ln("%H:%M"),Or=ln("%H:%M"),Dr=ln("%a %d"),Ir=ln("%b %d"),Rr=ln("%B"),Pr=ln("%Y");function Lr(t){return(je(t)<t?Nr:Ke(t)<t?Mr:Ze(t)<t?Cr:Qe(t)<t?Or:rn(t)<t?tn(t)<t?Dr:Ir:on(t)<t?Rr:Pr)(t)}const zr=(t,e=5)=>new Intl.NumberFormat("en-GB",{maximumFractionDigits:e,minimumFractionDigits:e}).format(t),Fr=Math.PI,Ur=2*Fr,jr=Ur-1e-6;function Br(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Yr(){return new Br}function qr(t){return function(){return t}}function Wr(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Vr(t){this._context=t}function Hr(t){return new Vr(t)}function Xr(t){return t[0]}function Gr(t){return t[1]}function $r(t,e){var n=qr(!0),r=null,i=Hr,o=null;function a(a){var s,u,c,l=(a=Wr(a)).length,f=!1;for(null==r&&(o=i(c=Yr())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?Xr:qr(t),e="function"==typeof e?e:void 0===e?Gr:qr(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:qr(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:qr(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:qr(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}Br.prototype=Yr.prototype={constructor:Br,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var h=n-o,d=r-a,p=s*s+u*u,v=h*h+d*d,g=Math.sqrt(p),m=Math.sqrt(f),y=i*Math.tan((Fr-Math.acos((p+f-v)/(2*g*m)))/2),_=y/m,w=y/g;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*c)+","+(e+_*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+w*s)+","+(this._y1=e+w*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Ur+Ur),f>jr?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Fr)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Vr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class Kr{get x(){return this.points[0][0]}constructor(t){i.default(this,"points",void 0),i.default(this,"fill",void 0),i.default(this,"line",void 0);const{points:e,fill:n,line:r}=t;this.points=e,this.fill=n,this.line=r}draw(t,e,n){const r=function(t,e,n){var r=null,i=qr(!0),o=null,a=Hr,s=null;function u(u){var c,l,f,h,d,p=(u=Wr(u)).length,v=!1,g=new Array(p),m=new Array(p);for(null==o&&(s=a(d=Yr())),c=0;c<=p;++c){if(!(c<p&&i(h=u[c],c,u))===v)if(v=!v)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=l;--f)s.point(g[f],m[f]);s.lineEnd(),s.areaEnd()}v&&(g[c]=+t(h,c,u),m[c]=+e(h,c,u),s.point(r?+r(h,c,u):g[c],n?+n(h,c,u):m[c]))}if(d)return s=null,d+""||null}function c(){return $r().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?Xr:qr(+t),e="function"==typeof e?e:qr(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?Gr:qr(+n),u.x=function(e){return arguments.length?(t="function"==typeof e?e:qr(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:qr(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:qr(+t),u):r},u.y=function(t){return arguments.length?(e="function"==typeof t?t:qr(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"==typeof t?t:qr(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:qr(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:qr(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u}().curve(Hr).x((t=>e(t[0]))).y0((t=>n(t[1]))).y1((t=>n(t[2]))),i=$r().curve(Hr).x((t=>e(t[0]))).y((t=>n(t[2])));let o;if("string"==typeof this.fill)o=this.fill;else{o=t.createLinearGradient(0,n.range()[1],0,n.range()[0]);for(const t of this.fill.stops)o.addColorStop(t.offset,t.color)}r.context(t),i.context(t),this.points.length>1&&(t.beginPath(),r(this.points),t.fillStyle=o,t.globalAlpha=.7,t.fill(),t.globalAlpha=1,t.closePath(),this.line&&(t.beginPath(),i(this.points),t.lineWidth=2,t.strokeStyle=this.line,t.stroke(),t.closePath()))}}class Zr{constructor(t){i.default(this,"x",void 0),i.default(this,"y",void 0),i.default(this,"width",void 0),i.default(this,"height",void 0),i.default(this,"fill",void 0),i.default(this,"stroke",void 0);const{x:e,y:n,width:r,height:o,fill:a,stroke:s}=t;this.x=e,this.y=n,this.width=r,this.height=o,this.fill=a,this.stroke=s}draw(t,e,n,r=1){t.beginPath();const i=Math.max(e(this.width)-e(0),1/r);t.rect(we(e(this.x.getTime()-this.width/2),r),we(n(this.y),r),xe(i,r),xe(Math.abs(n(this.height)-n(0)),r)),t.fillStyle=this.fill??Ae,t.fill(),this.stroke&&(t.lineWidth=1/r,t.strokeStyle=this.stroke??Ae,t.stroke())}}class Qr{constructor(t){i.default(this,"x",void 0);const{x:e}=t;this.x=e}draw(t,e,n){}}class Jr{draw(t,e,n,r=1,i){!function(t,e,n,r){const i=r[0],o=r[1],a=e.range().map(Math.round),s=n.range().map(Math.round);t.save(),t.setLineDash([4,6]),t.lineWidth=1,t.strokeStyle=be,i&&(t.beginPath(),t.moveTo(Math.round(e(i)),s[0]),t.lineTo(Math.round(e(i)),s[1]),t.stroke(),t.closePath()),o&&(t.beginPath(),t.moveTo(a[0],Math.round(n(o))),t.lineTo(a[1],Math.round(n(o))),t.stroke(),t.closePath()),t.restore()}(t,e,n,i)}}class ti{draw(t,e,n,r=1){!function(t,e,n,r=1){const i=e.range().map(Math.round),o=n.range().map(Math.round),a=s(i[1]-i[0]),c=u(o[1]-o[0]),l=e.ticks(a),f=n.ticks(c);for(const n of l)t.save(),t.beginPath(),t.strokeStyle=Te,t.fillStyle="transparent",t.lineWidth=1/r,t.moveTo(we(e(n),r),o[0]),t.lineTo(we(e(n),r),o[1]),t.fill(),t.stroke(),t.closePath(),t.restore();for(const e of f)t.save(),t.beginPath(),t.strokeStyle=Te,t.fillStyle="transparent",t.lineWidth=1/r,t.moveTo(i[0],we(n(e),r)),t.lineTo(i[1],we(n(e),r)),t.fill(),t.stroke(),t.closePath(),t.restore()}(t,e,n,r)}}class ei{get x(){return this.points[0][0]}constructor(t){i.default(this,"points",void 0),i.default(this,"color",void 0);const{points:e,color:n}=t;this.points=e,this.color=n}draw(t,e,n,r=1){const i=$r().curve(Hr).x((t=>we(e(t[0]),r))).y((t=>xe(n(t[1]),r)));i.context(t),this.points.length>1&&(t.beginPath(),i(this.points),t.strokeStyle=this.color,t.lineCap="butt",t.lineWidth=2/r,t.stroke(),t.closePath())}}class ni{constructor(t){i.default(this,"x",void 0),i.default(this,"x2",void 0),i.default(this,"y",void 0),i.default(this,"y2",void 0),i.default(this,"color",void 0);const{x:e,x2:n,y:r,y2:o,color:a}=t;this.x=e,this.x2=n,this.y=r,this.y2=o,this.color=a}draw(t,e,n,r=1){let i,o,a,s;null===this.x?(i=e.range()[0],o=e.range()[1],a=n(this.y),s=null===this.y2?a:n(this.y2)):null===this.y?(i=e(this.x),o=null===this.x2?i:e(this.x2),a=n.range()[0],s=n.range()[1]):(i=e(this.x),o=null===this.x2?i:e(this.x2),a=n(this.y),s=null===this.y2?a:n(this.y2)),t.beginPath(),t.moveTo(we(i,r),we(a,r)),t.lineTo(we(o,r),we(s,r)),t.strokeStyle=this.color,t.lineCap="butt",t.lineWidth=2/r,t.stroke(),t.closePath()}}class ri{draw(t,e,n,r=1,i){!function(t,e,n){if(n){const r=e(n),i=24.5;t.font="12px monospace",t.textAlign="center",t.textBaseline="middle";const o=5,a=Lr(e.invert(r)),s=t.measureText(a).width+2*o,u=19;let c=r;r-s/2<0&&(c=s/2),r+s/2>e.range()[1]&&(c=e.range()[1]-s/2),t.beginPath(),t.moveTo(r,i-u-5),t.lineTo(r+5,i-u),t.lineTo(c+s/2,i-u),t.lineTo(c+s/2,i),t.lineTo(c-s/2,i),t.lineTo(c-s/2,i-u),t.lineTo(r-5,i-u),t.closePath(),t.fillStyle=Ee,t.strokeStyle=ke,t.fill(),t.stroke(),t.closePath(),t.beginPath(),t.fillStyle=be,t.fillText(a,c,i-u/2),t.closePath()}}(t,e,i)}}class ii{draw(t,e,n,r=1){!function(t,e,n){t.strokeStyle="#fff";const r=e.range(),i=s(r[1]-r[0]);e.ticks(i).forEach((function(n){t.beginPath(),t.fillStyle=Se,t.textBaseline="top",t.textAlign="center",t.font='12px "Roboto Mono", monospace',t.fillText(Lr(n),e(n),9),t.closePath()}))}(t,e)}}class oi{constructor(t,e){i.default(this,"decimalPlaces",void 0),i.default(this,"position",void 0),this.position=t,this.decimalPlaces=e}draw(t,e,n){!function(t,e,n,r,i){if(r){const o=e.range()[1];t.font="12px monospace",t.textAlign="left",t.textBaseline="middle";const a=5,s=r.toFixed(i),u=18;let c=n(r);t.save(),t.setLineDash([2,2]),t.strokeStyle=Se,t.beginPath(),t.moveTo(e.range()[0],Math.round(n(r))+.5),t.lineTo(e.range()[1],Math.round(n(r))+.5),t.stroke(),t.closePath(),t.restore(),t.beginPath(),t.moveTo(o-92-10,c),t.lineTo(o-92,c-u/2),t.lineTo(o,c-u/2),t.lineTo(o,c+u/2),t.lineTo(o-92,c+u/2),t.closePath(),t.fillStyle=Ee,t.strokeStyle=ke,t.fill(),t.stroke(),t.closePath(),t.beginPath(),t.fillStyle=be,t.fillText(s,o-92+a,c),t.closePath()}}(t,e,n,this.position,this.decimalPlaces)}}class ai{constructor(t){i.default(this,"decimalPlaces",void 0),this.decimalPlaces=t}draw(t,e,n,r=1,i){!function(t,e,n,r,i){if(r){const o=e.range()[1];t.font="12px monospace",t.textAlign="left",t.textBaseline="middle";const a=n.invert(r),s=5,u=zr(a,i),c=18;t.beginPath(),t.moveTo(o-92-10,n(r)),t.lineTo(o-92,n(r)-c/2),t.lineTo(o,n(r)-c/2),t.lineTo(o,n(r)+c/2),t.lineTo(o-92,n(r)+c/2),t.closePath(),t.fillStyle=Ee,t.strokeStyle=ke,t.fill(),t.stroke(),t.closePath(),t.beginPath(),t.fillStyle=be,t.fillText(u,o-92+s,n(r)),t.closePath()}}(t,e,n,i,this.decimalPlaces)}}class si{draw(t,e,n,r=1){!function(t,e,n,r){const i=e.range(),o=n.range(),a=u(o[1]-o[0]),s=n.ticks(a),c=n.tickFormat(a);t.beginPath(),t.fillStyle="rgba(0,0,0,0.6)",t.fillRect(e.range()[1]-92,o[1],92,o[0]-o[1]),t.closePath(),t.strokeStyle="#fff",t.fillStyle=Se,t.textBaseline="middle",t.textAlign="left",t.font='12px "Roboto Mono", monospace',s.forEach((function(e){t.beginPath(),t.fillText(c(e),i[1]-92+6,Math.round(n(e))),t.closePath()}));const l=t.createLinearGradient(0,0,0,6);l.addColorStop(0,"#000"),l.addColorStop(1,"rgba(0,0,0,0)"),t.fillStyle=l,t.fillRect(i[1]-92,0,92,6);const f=t.createLinearGradient(0,o[0]-6,0,o[0]);f.addColorStop(0,"rgba(0,0,0,0)"),f.addColorStop(1,"#000"),t.fillStyle=f,t.fillRect(i[1]-92,n.range()[0]-6,92,6),t.beginPath(),t.strokeStyle=ke,t.moveTo(we(i[1]-92,r),o[0]),t.lineTo(we(i[1]-92,r),o[1]),t.stroke(),t.closePath()}(t,e,n,r)}}function ui(t,e){if("area"===t)return new Kr(e);if("bar"===t)return new Zr(e);if("line"===t)return new ei(e);if("rule"===t)return new ni(e);throw new Error(`Element type not recognized: ${t}`)}function ci(t){let e;if(void 0===t)e=()=>null;else if("condition"in t){var n;const r=null===(n=t.condition)||void 0===n?void 0:n.test;if(function(t){return void 0!==t.lt}(r)){const n="string"==typeof r.lt?t=>t[r.lt]:()=>r.lt;e=e=>e[r.field]<n(e)?t.condition.value??Ae:t.value??Ae}else if(function(t){return void 0!==t.gt}(r)){const n="string"==typeof r.gt?t=>t[r.gt]:()=>r.gt;e=e=>e[r.field]>n(e)?t.condition.value??Ae:t.value??Ae}else e=()=>null}else e="value"in t?()=>t.value:()=>null;return e}function li(t){switch(t){case"area":return[{encoding:{y:{field:"close",type:"quantitative"}},mark:{type:"area",line:{color:"#009cff"},color:{gradient:"linear",stops:[{offset:0,color:"#044e80"},{offset:1,color:"#000000"}]}}}];case"line":return[{encoding:{y:{field:"close",type:"quantitative"}},mark:{type:"line",color:"#009cff"}}];case"candle":default:return[{encoding:{y:{field:"low",type:"quantitative"},y2:{field:"high",type:"quantitative"},color:{condition:{test:{field:"open",lt:"close"},value:Ne},value:Ce}},mark:{type:"rule"}},{encoding:{y:{field:"open",type:"quantitative"},y2:{field:"close",type:"quantitative"},fill:{condition:{test:{field:"open",lt:"close"},value:Me},value:Ce},stroke:{condition:{test:{field:"open",lt:"close"},value:Ne},value:Ce}},mark:{type:"bar"}}]}}function fi(t){switch(t){case"eldarRay":return[{encoding:{y:{field:"bullPower",type:"quantitative"},fill:{value:"green"}},mark:{type:"bar"}},{encoding:{y:{field:"bearPower",type:"quantitative"},fill:{value:"red"}},mark:{type:"bar"}}];case"macd":return[{encoding:{y:{field:"divergence",type:"quantitative"},fill:{condition:{test:{field:"divergence",gt:0},value:Me},value:Ce}},mark:{type:"bar"}},{encoding:{y:{field:"signal",type:"quantitative"}},mark:{type:"line",color:Oe}},{encoding:{y:{field:"macd",type:"quantitative"}},mark:{type:"line",color:"#009cff"}}];case"volume":return[{encoding:{y:{field:"volume",type:"quantitative"}},mark:{type:"bar"}}];default:return[]}}function hi(t,e,n,r,i){const o=[],a=[],s={name:"main",layer:li(e)};var u;n&&(a.push(...function(t){switch(t){case"bollinger":return[{indicator:"bollinger",on:"close"}];case"envelope":return[{indicator:"envelope",on:"close"}];default:return[]}}(n)),null===(u=s.layer)||void 0===u||u.push(...function(t){switch(t){case"bollinger":case"envelope":return[{encoding:{y:{field:"lower",type:"quantitative"}},mark:{type:"line",color:Oe}},{encoding:{y:{field:"upper",type:"quantitative"}},mark:{type:"line",color:Ie}}];case"priceMonitoringBounds":return[{encoding:{y:{field:"minValidPrice",type:"quantitative"}},mark:{type:"line",color:Oe}},{encoding:{y:{field:"maxValidPrice",type:"quantitative"}},mark:{type:"line",color:De}},{encoding:{y:{field:"referencePrice",type:"quantitative"}},mark:{type:"line",color:Ie}}];default:return[]}}(n)));if(o.push(s),r){a.push(...function(t){switch(t){case"eldarRay":return[{indicator:"eldarRay",on:"close"}];case"macd":return[{indicator:"macd",on:"close"}];default:return[]}}(r));const t={name:r,layer:fi(r)};o.push(t)}i&&(t=t.map((t=>({...t,maxValidPrice:i.maxValidPrice,minValidPrice:i.minValidPrice,referencePrice:i.referencePrice}))));return{data:{values:t},transform:a,encoding:{x:{field:"date",type:"temporal"}},vconcat:o}}function di(t){var e;e="undefined"!=typeof window?window:"undefined"!=typeof self?self:global;var n,r,i="undefined"!=typeof document&&document.attachEvent;if(!i){var o=(r=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},function(t){return r(t)}),a=(n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout,function(t){return n(t)}),s=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(t){if(!(t.target.className&&"function"==typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;s(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=o((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(n){n.call(e,t)})))}))}},c=!1,l="",f="animationstart",h="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(c=!0),!1===c)for(var v=0;v<h.length;v++)if(void 0!==p.style[h[v]+"AnimationName"]){l="-"+h[v].toLowerCase()+"-",f=d[v],c=!0;break}var g="resizeanim",m="@"+l+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",y=l+"animation: 1ms "+g+"; "}return{addResizeListener:function(n,r){if(i)n.attachEvent("onresize",r);else{if(!n.__resizeTriggers__){var o=n.ownerDocument,a=e.getComputedStyle(n);a&&"static"==a.position&&(n.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(m||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",null!=t&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(e.createTextNode(n)),r.appendChild(i)}}(o),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var c=o.createElement("div");c.className="expand-trigger",c.appendChild(o.createElement("div"));var l=o.createElement("div");l.className="contract-trigger",n.__resizeTriggers__.appendChild(c),n.__resizeTriggers__.appendChild(l),n.appendChild(n.__resizeTriggers__),s(n),n.addEventListener("scroll",u,!0),f&&(n.__resizeTriggers__.__animationListener__=function(t){t.animationName==g&&s(n)},n.__resizeTriggers__.addEventListener(f,n.__resizeTriggers__.__animationListener__))}n.__resizeListeners__.push(r)}},removeResizeListener:function(t,e){if(i)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",u,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(f,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(t){}}}}}var pi=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},vi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mi=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},yi=function(t){function n(){var t,e,r;pi(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=mi(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(o))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var t=r.props,e=t.disableHeight,n=t.disableWidth,i=t.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,l=parseInt(s.paddingTop,10)||0,f=parseInt(s.paddingBottom,10)||0,h=o-l-f,d=a-u-c;(!e&&r.state.height!==h||!n&&r.state.width!==d)&&(r.setState({height:o-l-f,width:a-u-c}),i({height:o,width:a}))}},r._setRef=function(t){r._autoSizer=t},mi(r,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e.PureComponent),vi(n,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=di(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,n=t.children,r=t.className,i=t.disableHeight,o=t.disableWidth,a=t.style,s=this.state,u=s.height,c=s.width,l={overflow:"visible"},f={},h=!1;return i||(0===u&&(h=!0),l.height=0,f.height=u),o||(0===c&&(h=!0),l.width=0,f.width=c),e.createElement("div",{className:r,ref:this._setRef,style:gi({},l,a)},!h&&n(f))}}]),n}();yi.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};class _i extends o.Component{constructor(t){super(t),i.default(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,e){console.error("Uncaught error:",t,e)}render(){return this.state.hasError?o.createElement("h1",null,"Sorry... there was an error."):this.props.children}}const wi=({description:t,title:e})=>React.createElement("div",{className:"non-ideal-state"},React.createElement("div",{className:"non-ideal-state-visual"}),React.createElement("h4",{className:"heading"},e),t&&React.createElement("div",null,t));var xi="http://www.w3.org/1999/xhtml",bi={svg:"http://www.w3.org/2000/svg",xhtml:xi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ei(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),bi.hasOwnProperty(e)?{space:bi[e],local:t}:t}function Ti(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xi&&e.documentElement.namespaceURI===xi?e.createElement(t):e.createElementNS(n,t)}}function Ai(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Si(t){var e=Ei(t);return(e.local?Ai:Ti)(e)}function ki(){}function Ni(t){return null==t?ki:function(){return this.querySelector(t)}}function Mi(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ci(){return[]}function Oi(t){return null==t?Ci:function(){return this.querySelectorAll(t)}}function Di(t){return function(){return this.matches(t)}}function Ii(t){return function(e){return e.matches(t)}}var Ri=Array.prototype.find;function Pi(){return this.firstElementChild}var Li=Array.prototype.filter;function zi(){return this.children}function Fi(t){return new Array(t.length)}function Ui(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function ji(t){return function(){return t}}function Bi(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Ui(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Yi(t,e,n,r,i,o,a){var s,u,c,l=new Map,f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?i[s]=u:l.set(c,u));for(s=0;s<h;++s)c=a.call(t,o[s],s,o)+"",(u=l.get(c))?(r[s]=u,u.__data__=o[s],l.delete(c)):n[s]=new Ui(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l.get(d[s])===u&&(i[s]=u)}function qi(t){return t.__data__}function Wi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Vi(t){return function(){this.removeAttribute(t)}}function Hi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xi(t,e){return function(){this.setAttribute(t,e)}}function Gi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $i(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Ki(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Zi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Qi(t){return function(){this.style.removeProperty(t)}}function Ji(t,e,n){return function(){this.style.setProperty(t,e,n)}}function to(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function eo(t,e){return t.style.getPropertyValue(e)||Zi(t).getComputedStyle(t,null).getPropertyValue(e)}function no(t){return function(){delete this[t]}}function ro(t,e){return function(){this[t]=e}}function io(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function oo(t){return t.trim().split(/^|\s+/)}function ao(t){return t.classList||new so(t)}function so(t){this._node=t,this._names=oo(t.getAttribute("class")||"")}function uo(t,e){for(var n=ao(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function co(t,e){for(var n=ao(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function lo(t){return function(){uo(this,t)}}function fo(t){return function(){co(this,t)}}function ho(t,e){return function(){(e.apply(this,arguments)?uo:co)(this,t)}}function po(){this.textContent=""}function vo(t){return function(){this.textContent=t}}function go(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function mo(){this.innerHTML=""}function yo(t){return function(){this.innerHTML=t}}function _o(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function wo(){this.nextSibling&&this.parentNode.appendChild(this)}function xo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bo(){return null}function Eo(){var t=this.parentNode;t&&t.removeChild(this)}function To(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ao(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function So(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ko(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function No(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Mo(t,e,n){var r=Zi(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Co(t,e){return function(){return Mo(this,t,e)}}function Oo(t,e){return function(){return Mo(this,t,e.apply(this,arguments))}}Ui.prototype={constructor:Ui,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},so.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Do=[null];function Io(t,e){this._groups=t,this._parents=e}function Ro(){return new Io([[document.documentElement]],Do)}function Po(t){return"string"==typeof t?new Io([[document.querySelector(t)]],[document.documentElement]):new Io([[t]],Do)}function Lo(t){let e;for(;e=t.sourceEvent;)t=e;return t}function zo(t,e){if(t=Lo(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}Io.prototype=Ro.prototype={constructor:Io,select:function(t){"function"!=typeof t&&(t=Ni(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Io(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:Mi(e)}}(t):Oi(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Io(r,i)},selectChild:function(t){return this.select(null==t?Pi:function(t){return function(){return Ri.call(this.children,t)}}("function"==typeof t?t:Ii(t)))},selectChildren:function(t){return this.selectAll(null==t?zi:function(t){return function(){return Li.call(this.children,t)}}("function"==typeof t?t:Ii(t)))},filter:function(t){"function"!=typeof t&&(t=Di(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Io(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,qi);var n=e?Yi:Bi,r=this._parents,i=this._groups;"function"!=typeof t&&(t=ji(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=Mi(t.call(l,l&&l.__data__,c,r)),p=d.length,v=s[c]=new Array(p),g=a[c]=new Array(p),m=u[c]=new Array(h);n(l,f,v,g,m,d,e);for(var y,_,w=0,x=0;w<p;++w)if(y=v[w]){for(w>=x&&(x=w+1);!(_=g[x])&&++x<p;);y._next=_||null}}return(a=new Io(a,r))._enter=s,a._exit=u,a},enter:function(){return new Io(this._enter||this._groups.map(Fi),this._parents)},exit:function(){return new Io(this._exit||this._groups.map(Fi),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Io))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new Io(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Wi);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new Io(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ei(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Hi:Vi:"function"==typeof e?n.local?Ki:$i:n.local?Gi:Xi)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Qi:"function"==typeof e?to:Ji)(t,e,null==n?"":n)):eo(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?no:"function"==typeof e?io:ro)(t,e)):this.node()[t]},classed:function(t,e){var n=oo(t+"");if(arguments.length<2){for(var r=ao(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ho:e?lo:fo)(n,e))},text:function(t){return arguments.length?this.each(null==t?po:("function"==typeof t?go:vo)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?mo:("function"==typeof t?_o:yo)(t)):this.node().innerHTML},raise:function(){return this.each(wo)},lower:function(){return this.each(xo)},append:function(t){var e="function"==typeof t?t:Si(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Si(t),r=null==e?bo:"function"==typeof e?e:Ni(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Eo)},clone:function(t){return this.select(t?Ao:To)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=So(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?No:ko,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Oo:Co)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Fo={value:()=>{}};function Uo(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new jo(r)}function jo(t){this._=t}function Bo(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Yo(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function qo(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Fo,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}jo.prototype=Uo.prototype={constructor:jo,on:function(t,e){var n,r=this._,i=Bo(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=qo(r[n],t.name,e);else if(null==e)for(n in r)r[n]=qo(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Yo(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new jo(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Wo,Vo,Ho=0,Xo=0,Go=0,$o=0,Ko=0,Zo=0,Qo="object"==typeof performance&&performance.now?performance:Date,Jo="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ta(){return Ko||(Jo(ea),Ko=Qo.now()+Zo)}function ea(){Ko=0}function na(){this._call=this._time=this._next=null}function ra(t,e,n){var r=new na;return r.restart(t,e,n),r}function ia(){Ko=($o=Qo.now())+Zo,Ho=Xo=0;try{!function(){ta(),++Ho;for(var t,e=Wo;e;)(t=Ko-e._time)>=0&&e._call.call(null,t),e=e._next;--Ho}()}finally{Ho=0,function(){var t,e,n=Wo,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Wo=e);Vo=t,aa(r)}(),Ko=0}}function oa(){var t=Qo.now(),e=t-$o;e>1e3&&(Zo-=e,$o=t)}function aa(t){Ho||(Xo&&(Xo=clearTimeout(Xo)),t-Ko>24?(t<1/0&&(Xo=setTimeout(ia,t-Qo.now()-Zo)),Go&&(Go=clearInterval(Go))):(Go||($o=Qo.now(),Go=setInterval(oa,1e3)),Ho=1,Jo(ia)))}function sa(t,e,n){var r=new na;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}na.prototype=ra.prototype={constructor:na,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ta():+n)+(null==e?0:+e),this._next||Vo===this||(Vo?Vo._next=this:Wo=this,Vo=this),this._call=t,this._time=n,aa()},stop:function(){this._call&&(this._call=null,this._time=1/0,aa())}};var ua=Uo("start","end","cancel","interrupt"),ca=[];function la(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,l,f,h;if(1!==n.state)return u();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return sa(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(sa((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=ra(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:ua,tween:ca,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function fa(t,e){var n=da(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ha(t,e){var n=da(t,e);if(n.state>3)throw new Error("too late; already running");return n}function da(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function pa(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function va(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ga(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ma(){}var ya=1/.7,_a="\\s*([+-]?\\d+)\\s*",wa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ba=/^#([0-9a-f]{3,8})$/,Ea=new RegExp("^rgb\\("+[_a,_a,_a]+"\\)$"),Ta=new RegExp("^rgb\\("+[xa,xa,xa]+"\\)$"),Aa=new RegExp("^rgba\\("+[_a,_a,_a,wa]+"\\)$"),Sa=new RegExp("^rgba\\("+[xa,xa,xa,wa]+"\\)$"),ka=new RegExp("^hsl\\("+[wa,xa,xa]+"\\)$"),Na=new RegExp("^hsla\\("+[wa,xa,xa,wa]+"\\)$"),Ma={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ca(){return this.rgb().formatHex()}function Oa(){return this.rgb().formatRgb()}function Da(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ba.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ia(e):3===n?new za(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ra(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ra(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ea.exec(t))?new za(e[1],e[2],e[3],1):(e=Ta.exec(t))?new za(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Aa.exec(t))?Ra(e[1],e[2],e[3],e[4]):(e=Sa.exec(t))?Ra(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ka.exec(t))?Ba(e[1],e[2]/100,e[3]/100,1):(e=Na.exec(t))?Ba(e[1],e[2]/100,e[3]/100,e[4]):Ma.hasOwnProperty(t)?Ia(Ma[t]):"transparent"===t?new za(NaN,NaN,NaN,0):null}function Ia(t){return new za(t>>16&255,t>>8&255,255&t,1)}function Ra(t,e,n,r){return r<=0&&(t=e=n=NaN),new za(t,e,n,r)}function Pa(t){return t instanceof ma||(t=Da(t)),t?new za((t=t.rgb()).r,t.g,t.b,t.opacity):new za}function La(t,e,n,r){return 1===arguments.length?Pa(t):new za(t,e,n,null==r?1:r)}function za(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Fa(){return"#"+ja(this.r)+ja(this.g)+ja(this.b)}function Ua(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ja(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ba(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qa(t,e,n,r)}function Ya(t){if(t instanceof qa)return new qa(t.h,t.s,t.l,t.opacity);if(t instanceof ma||(t=Da(t)),!t)return new qa;if(t instanceof qa)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new qa(a,s,u,t.opacity)}function qa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Wa(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}va(ma,Da,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ca,formatHex:Ca,formatHsl:function(){return Ya(this).formatHsl()},formatRgb:Oa,toString:Oa}),va(za,La,ga(ma,{brighter:function(t){return t=null==t?ya:Math.pow(ya,t),new za(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new za(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fa,formatHex:Fa,formatRgb:Ua,toString:Ua})),va(qa,(function(t,e,n,r){return 1===arguments.length?Ya(t):new qa(t,e,n,null==r?1:r)}),ga(ma,{brighter:function(t){return t=null==t?ya:Math.pow(ya,t),new qa(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qa(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new za(Wa(t>=240?t-240:t+120,i,r),Wa(t,i,r),Wa(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Va=t=>()=>t;function Ha(t){return 1==(t=+t)?Xa:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Va(isNaN(e)?n:e)}}function Xa(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Va(isNaN(t)?e:t)}var Ga=function t(e){var n=Ha(e);function r(t,e){var r=n((t=La(t)).r,(e=La(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Xa(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function $a(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Ka(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=rs(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Za(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ja(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=rs(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var ts=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,es=new RegExp(ts.source,"g");function ns(t,e){var n,r,i,o=ts.lastIndex=es.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=ts.exec(t))&&(r=es.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Qa(n,r)})),o=es.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function rs(t,e){var n,r=typeof e;return null==e||"boolean"===r?Va(e):("number"===r?Qa:"string"===r?(n=Da(e))?(e=n,Ga):ns:e instanceof Da?Ga:e instanceof Date?Za:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?$a:Array.isArray(e)?Ka:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ja:Qa)(t,e)}function is(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var os,as=180/Math.PI,ss={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function us(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*as,skewX:Math.atan(u)*as,scaleX:a,scaleY:s}}function cs(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Qa(t,i)},{i:u-2,x:Qa(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Qa(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Qa(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Qa(t,n)},{i:s-2,x:Qa(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var ls=cs((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ss:us(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),fs=cs((function(t){return null==t?ss:(os||(os=document.createElementNS("http://www.w3.org/2000/svg","g")),os.setAttribute("transform",t),(t=os.transform.baseVal.consolidate())?us((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ss)}),", ",")",")");function hs(t){return((t=Math.exp(t))+1/t)/2}var ds=function t(e,n,r){function i(t,i){var o,a,s=t[0],u=t[1],c=t[2],l=i[0],f=i[1],h=i[2],d=l-s,p=f-u,v=d*d+p*p;if(v<1e-12)a=Math.log(h/c)/e,o=function(t){return[s+t*d,u+t*p,c*Math.exp(e*t*a)]};else{var g=Math.sqrt(v),m=(h*h-c*c+r*v)/(2*c*n*g),y=(h*h-c*c-r*v)/(2*h*n*g),_=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-_)/e,o=function(t){var r=t*a,i=hs(_),o=c/(n*g)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+_)-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[s+o*d,u+o*p,c*i/hs(e*r+_)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function ps(t,e){var n,r;return function(){var i=ha(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function vs(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=ha(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function gs(t,e,n){var r=t._id;return t.each((function(){var t=ha(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return da(t,r).value[e]}}function ms(t,e){var n;return("number"==typeof e?Qa:e instanceof Da?Ga:(n=Da(e))?(e=n,Ga):ns)(t,e)}function ys(t){return function(){this.removeAttribute(t)}}function _s(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ws(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function xs(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function bs(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function Es(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Ts(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function As(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ss(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&As(t,i)),n}return i._value=e,i}function ks(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ts(t,i)),n}return i._value=e,i}function Ns(t,e){return function(){fa(this,t).delay=+e.apply(this,arguments)}}function Ms(t,e){return e=+e,function(){fa(this,t).delay=e}}function Cs(t,e){return function(){ha(this,t).duration=+e.apply(this,arguments)}}function Os(t,e){return e=+e,function(){ha(this,t).duration=e}}function Ds(t,e){if("function"!=typeof e)throw new Error;return function(){ha(this,t).ease=e}}function Is(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?fa:ha;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Rs=Ro.prototype.constructor;function Ps(t){return function(){this.style.removeProperty(t)}}function Ls(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zs(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Ls(t,o,n)),r}return o._value=e,o}function Fs(t){return function(e){this.textContent=t.call(this,e)}}function Us(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Fs(r)),e}return r._value=t,r}var js=0;function Bs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ys(){return++js}var qs=Ro.prototype;Bs.prototype={constructor:Bs,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ni(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,la(f[h],e,n,h,f,da(s,n)));return new Bs(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Oi(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,d=t.call(u,u.__data__,f,c),p=da(u,n),v=0,g=d.length;v<g;++v)(h=d[v])&&la(h,e,n,v,d,p);o.push(d),a.push(u)}return new Bs(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Di(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Bs(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new Bs(a,this._parents,this._name,this._id)},selection:function(){return new Rs(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ys(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=da(a,e);la(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Bs(r,this._parents,t,n)},call:qs.call,nodes:qs.nodes,node:qs.node,size:qs.size,empty:qs.empty,each:qs.each,on:function(t,e){var n=this._id;return arguments.length<2?da(this.node(),n).on.on(t):this.each(Is(n,t,e))},attr:function(t,e){var n=Ei(t),r="transform"===n?fs:ms;return this.attrTween(t,"function"==typeof e?(n.local?Es:bs)(n,r,gs(this,"attr."+t,e)):null==e?(n.local?_s:ys)(n):(n.local?xs:ws)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ei(t);return this.tween(n,(r.local?Ss:ks)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?ls:ms;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=eo(this,t),a=(this.style.removeProperty(t),eo(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Ps(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=eo(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=eo(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,gs(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=ha(this,t),c=u.on,l=null==u.value[a]?o||(o=Ps(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=eo(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,zs(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(gs(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Us(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=da(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?ps:vs)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ns:Ms)(e,t)):da(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Cs:Os)(e,t)):da(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ds(e,t)):da(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;ha(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=ha(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:qs[Symbol.iterator]};var Ws={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Vs(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ro.prototype.interrupt=function(t){return this.each((function(){pa(this,t)}))},Ro.prototype.transition=function(t){var e,n;t instanceof Bs?(e=t._id,t=t._name):(e=Ys(),(n=Ws).time=ta(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&la(a,t,e,c,s,n||Vs(a,e));return new Bs(r,this._parents,t,e)};const Hs="__d3fc-elements__",Xs=t=>t[Hs]||{},Gs=(t,e)=>{t[Hs]=e},$s=t=>"D3FC-GROUP"===t.tagName?[t,...t.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg")]:[t],Ks=t=>{const{width:e,height:n}=Xs(t),r=t.useDevicePixelRatio&&null!=window.devicePixelRatio?window.devicePixelRatio:1,i=t.clientWidth*r,o=t.clientHeight*r,a=i!==e||o!==n,s=t.children[0];Gs(t,{pixelRatio:r,width:i,height:o,resized:a,child:s})};if("function"!=typeof CustomEvent)throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");const Zs=t=>{const e=Xs(t),n=new CustomEvent("measure",{detail:e});t.dispatchEvent(n)},Qs=t=>{const e=Xs(t),n=new CustomEvent("draw",{detail:e});t.dispatchEvent(n)};const Js=t=>Xs(t.ownerDocument).queue||[],tu=(t,e)=>{let{requestId:n}=Xs(t.ownerDocument);null==n&&(n=requestAnimationFrame((()=>{(t=>{const e=t.map($s).reduce(((t,e)=>t.concat(e)));e.forEach(Ks),e.forEach(Zs),e.forEach(Qs)})(Js(t)),eu(t)}))),Gs(t.ownerDocument,{queue:e,requestId:n})},eu=t=>(t=>delete t[Hs])(t.ownerDocument),nu=(t,e)=>{let n=t;do{if(n.parentNode===e)return!0}while(n=n.parentNode);return!1};var ru=t=>{const e=Js(t);if(e.indexOf(t)>-1)return;if(e.some((e=>nu(t,e))))return;const n=e.filter((e=>!nu(e,t)));n.push(t),tu(t,n)};if("function"!=typeof HTMLElement)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var iu=(t,e)=>class extends HTMLElement{static get observedAttributes(){return["use-device-pixel-ratio"]}attributeChangedCallback(t){switch(t){case"use-device-pixel-ratio":this.requestRedraw()}}connectedCallback(){0===this.childNodes.length&&this.appendChild(t()),(t=>{null==t.__measureListener__&&(t.__measureListener__=e=>t.setMeasurements(e.detail),t.addEventListener("measure",t.__measureListener__))})(this)}disconnectedCallback(){(t=>{null!=t.__measureListener__&&(t.removeEventListener("measure",t.__measureListener__),t.__measureListener__=null)})(this)}setMeasurements({width:t,height:n}){const{childNodes:[r,...i]}=this;if(i.length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");e(this,r,{width:t,height:n})}get useDevicePixelRatio(){return this.hasAttribute("use-device-pixel-ratio")&&"false"!==this.getAttribute("use-device-pixel-ratio")}set useDevicePixelRatio(t){t&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!t&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}requestRedraw(){ru(this)}};class ou extends(iu((()=>document.createElement("canvas")),((t,e,{width:n,height:r})=>{if(e.setAttribute("width",n),e.setAttribute("height",r),t.setWebglViewport){e.getContext("webgl").viewport(0,0,n,r)}}))){get setWebglViewport(){return this.hasAttribute("set-webgl-viewport")&&"false"!==this.getAttribute("set-webgl-viewport")}set setWebglViewport(t){t&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!t&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}const au=t=>{t.autoResize?su(t):uu(t)},su=t=>{null==t.__autoResizeListener__&&(t.__autoResizeListener__=()=>ru(t),addEventListener("resize",t.__autoResizeListener__))},uu=t=>{null!=t.__autoResizeListener__&&(removeEventListener("resize",t.__autoResizeListener__),t.__autoResizeListener__=null)};class cu extends HTMLElement{connectedCallback(){au(this)}disconnectedCallback(){uu(this)}requestRedraw(){ru(this)}get autoResize(){return this.hasAttribute("auto-resize")&&"false"!==this.getAttribute("auto-resize")}set autoResize(t){t&&!this.autoResize?this.setAttribute("auto-resize",""):!t&&this.autoResize&&this.removeAttribute("auto-resize"),au(this)}static get observedAttributes(){return["auto-resize"]}attributeChangedCallback(t){switch(t){case"auto-resize":au(this)}}}var lu=iu((()=>document.createElementNS("http://www.w3.org/2000/svg","svg")),((t,e,{width:n,height:r})=>{e.setAttribute("viewBox",`0 0 ${n} ${r}`)}));const fu="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",hu=document.createElement("style");if(hu.setAttribute("type","text/css"),document.querySelector("head").appendChild(hu),hu.styleSheet?hu.styleSheet.cssText+=fu:hu.textContent+=fu,"object"!=typeof customElements||"function"!=typeof customElements.define)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");customElements.define("d3fc-canvas",ou),customElements.define("d3fc-group",cu),customElements.define("d3fc-svg",lu);const du=({bounds:t})=>React.createElement("div",{className:"chart-info-wrapper"},React.createElement("div",null,React.createElement("span",null,`${ut(t[0],"HH:mm dd MMM yyyy")}`),React.createElement("span",{className:"text-muted"}," to "),React.createElement("span",null,`${ut(t[1],"HH:mm dd MMM yyyy")}`))),pu=({title:t,info:e})=>React.createElement("div",{className:"study-info-wrapper"},React.createElement("span",{className:"text-muted"},`${t}: `),e.map((t=>React.createElement("div",{key:t.id},React.createElement("span",{className:"text-muted"},`${t.label} `),React.createElement("span",{className:"monospace-text"},t.value)))));var vu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var gu,mu=(function(t,e){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",a=16,s=32,u=64,c=128,l=256,f=1/0,h=9007199254740991,d=NaN,p=4294967295,v=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",s],["partialRight",u],["rearg",l]],g="[object Arguments]",m="[object Array]",y="[object Boolean]",_="[object Date]",w="[object Error]",x="[object Function]",b="[object GeneratorFunction]",E="[object Map]",T="[object Number]",A="[object Object]",S="[object Promise]",k="[object RegExp]",N="[object Set]",M="[object String]",C="[object Symbol]",O="[object WeakMap]",D="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",P="[object Float64Array]",L="[object Int8Array]",z="[object Int16Array]",F="[object Int32Array]",U="[object Uint8Array]",j="[object Uint8ClampedArray]",B="[object Uint16Array]",Y="[object Uint32Array]",q=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,G=RegExp(H.source),$=RegExp(X.source),K=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/,et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nt=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(nt.source),it=/^\s+/,ot=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,pt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,bt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et="\\u2700-\\u27bf",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",At="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\ufe0e\\ufe0f",kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nt="[']",Mt="[\\ud800-\\udfff]",Ct="["+kt+"]",Ot="["+bt+"]",Dt="\\d+",It="[\\u2700-\\u27bf]",Rt="["+Tt+"]",Pt="[^\\ud800-\\udfff"+kt+Dt+Et+Tt+At+"]",Lt="\\ud83c[\\udffb-\\udfff]",zt="[^\\ud800-\\udfff]",Ft="(?:\\ud83c[\\udde6-\\uddff]){2}",Ut="[\\ud800-\\udbff][\\udc00-\\udfff]",jt="["+At+"]",Bt="(?:"+Rt+"|"+Pt+")",Yt="(?:"+jt+"|"+Pt+")",qt="(?:['](?:d|ll|m|re|s|t|ve))?",Wt="(?:['](?:D|LL|M|RE|S|T|VE))?",Vt="(?:"+Ot+"|"+Lt+")?",Ht="[\\ufe0e\\ufe0f]?",Xt=Ht+Vt+"(?:\\u200d(?:"+[zt,Ft,Ut].join("|")+")"+Ht+Vt+")*",Gt="(?:"+[It,Ft,Ut].join("|")+")"+Xt,$t="(?:"+[zt+Ot+"?",Ot,Ft,Ut,Mt].join("|")+")",Kt=RegExp(Nt,"g"),Zt=RegExp(Ot,"g"),Qt=RegExp(Lt+"(?="+Lt+")|"+$t+Xt,"g"),Jt=RegExp([jt+"?"+Rt+"+"+qt+"(?="+[Ct,jt,"$"].join("|")+")",Yt+"+"+Wt+"(?="+[Ct,jt+Bt,"$"].join("|")+")",jt+"?"+Bt+"+"+qt,jt+"+"+Wt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dt,Gt].join("|"),"g"),te=RegExp("[\\u200d\\ud800-\\udfff"+bt+St+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],re=-1,ie={};ie[R]=ie[P]=ie[L]=ie[z]=ie[F]=ie[U]=ie[j]=ie[B]=ie[Y]=!0,ie[g]=ie[m]=ie[D]=ie[y]=ie[I]=ie[_]=ie[w]=ie[x]=ie[E]=ie[T]=ie[A]=ie[k]=ie[N]=ie[M]=ie[O]=!1;var oe={};oe[g]=oe[m]=oe[D]=oe[I]=oe[y]=oe[_]=oe[R]=oe[P]=oe[L]=oe[z]=oe[F]=oe[E]=oe[T]=oe[A]=oe[k]=oe[N]=oe[M]=oe[C]=oe[U]=oe[j]=oe[B]=oe[Y]=!0,oe[w]=oe[x]=oe[O]=!1;var ae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},se=parseFloat,ue=parseInt,ce="object"==typeof vu&&vu&&vu.Object===Object&&vu,le="object"==typeof self&&self&&self.Object===Object&&self,fe=ce||le||Function("return this")(),he=e&&!e.nodeType&&e,de=he&&t&&!t.nodeType&&t,pe=de&&de.exports===he,ve=pe&&ce.process,ge=function(){try{var t=de&&de.require&&de.require("util").types;return t||ve&&ve.binding&&ve.binding("util")}catch(t){}}(),me=ge&&ge.isArrayBuffer,ye=ge&&ge.isDate,_e=ge&&ge.isMap,we=ge&&ge.isRegExp,xe=ge&&ge.isSet,be=ge&&ge.isTypedArray;function Ee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Te(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ne(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Me(t,e){return!(null==t||!t.length)&&Ue(t,e,0)>-1}function Ce(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Oe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function De(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ie(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Re(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Le=qe("length");function ze(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Fe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ue(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Fe(t,Be,n)}function je(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Be(t){return t!=t}function Ye(t,e){var n=null==t?0:t.length;return n?He(t,e)/n:d}function qe(t){return function(e){return null==e?n:e[t]}}function We(t){return function(e){return null==t?n:t[e]}}function Ve(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function He(t,e){for(var r,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==n&&(r=r===n?a:r+a)}return r}function Xe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ge(t){return t?t.slice(0,dn(t)+1).replace(it,""):t}function $e(t){return function(e){return t(e)}}function Ke(t,e){return Oe(e,(function(e){return t[e]}))}function Ze(t,e){return t.has(e)}function Qe(t,e){for(var n=-1,r=t.length;++n<r&&Ue(e,t[n],0)>-1;);return n}function Je(t,e){for(var n=t.length;n--&&Ue(e,t[n],0)>-1;);return n}function tn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var en=We({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),nn=We({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(t){return"\\"+ae[t]}function on(t){return te.test(t)}function an(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function sn(t,e){return function(n){return t(e(n))}}function un(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var s=t[n];s!==e&&s!==o||(t[n]=o,a[i++]=n)}return a}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function fn(t){return on(t)?function(t){for(var e=Qt.lastIndex=0;Qt.test(t);)++e;return e}(t):Le(t)}function hn(t){return on(t)?function(t){return t.match(Qt)||[]}(t):function(t){return t.split("")}(t)}function dn(t){for(var e=t.length;e--&&ot.test(t.charAt(e)););return e}var pn=We({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),vn=function t(e){var ot,bt=(e=null==e?fe:vn.defaults(fe.Object(),e,vn.pick(fe,ne))).Array,Et=e.Date,Tt=e.Error,At=e.Function,St=e.Math,kt=e.Object,Nt=e.RegExp,Mt=e.String,Ct=e.TypeError,Ot=bt.prototype,Dt=At.prototype,It=kt.prototype,Rt=e["__core-js_shared__"],Pt=Dt.toString,Lt=It.hasOwnProperty,zt=0,Ft=(ot=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+ot:"",Ut=It.toString,jt=Pt.call(kt),Bt=fe._,Yt=Nt("^"+Pt.call(Lt).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=pe?e.Buffer:n,Wt=e.Symbol,Vt=e.Uint8Array,Ht=qt?qt.allocUnsafe:n,Xt=sn(kt.getPrototypeOf,kt),Gt=kt.create,$t=It.propertyIsEnumerable,Qt=Ot.splice,te=Wt?Wt.isConcatSpreadable:n,ae=Wt?Wt.iterator:n,ce=Wt?Wt.toStringTag:n,le=function(){try{var t=po(kt,"defineProperty");return t({},"",{}),t}catch(t){}}(),he=e.clearTimeout!==fe.clearTimeout&&e.clearTimeout,de=Et&&Et.now!==fe.Date.now&&Et.now,ve=e.setTimeout!==fe.setTimeout&&e.setTimeout,ge=St.ceil,Le=St.floor,We=kt.getOwnPropertySymbols,gn=qt?qt.isBuffer:n,mn=e.isFinite,yn=Ot.join,_n=sn(kt.keys,kt),wn=St.max,xn=St.min,bn=Et.now,En=e.parseInt,Tn=St.random,An=Ot.reverse,Sn=po(e,"DataView"),kn=po(e,"Map"),Nn=po(e,"Promise"),Mn=po(e,"Set"),Cn=po(e,"WeakMap"),On=po(kt,"create"),Dn=Cn&&new Cn,In={},Rn=Bo(Sn),Pn=Bo(kn),Ln=Bo(Nn),zn=Bo(Mn),Fn=Bo(Cn),Un=Wt?Wt.prototype:n,jn=Un?Un.valueOf:n,Bn=Un?Un.toString:n;function Yn(t){if(is(t)&&!Xa(t)&&!(t instanceof Hn)){if(t instanceof Vn)return t;if(Lt.call(t,"__wrapped__"))return Yo(t)}return new Vn(t)}var qn=function(){function t(){}return function(e){if(!rs(e))return{};if(Gt)return Gt(e);t.prototype=e;var r=new t;return t.prototype=n,r}}();function Wn(){}function Vn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new $n;++e<n;)this.add(t[e])}function Zn(t){var e=this.__data__=new Gn(t);this.size=e.size}function Qn(t,e){var n=Xa(t),r=!n&&Ha(t),i=!n&&!r&&Za(t),o=!n&&!r&&!i&&hs(t),a=n||r||i||o,s=a?Xe(t.length,Mt):[],u=s.length;for(var c in t)!e&&!Lt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xo(c,u))||s.push(c);return s}function Jn(t){var e=t.length;return e?t[Kr(0,e-1)]:n}function tr(t,e){return Fo(Oi(t),cr(e,0,t.length))}function er(t){return Fo(Oi(t))}function nr(t,e,r){(r!==n&&!qa(t[e],r)||r===n&&!(e in t))&&sr(t,e,r)}function rr(t,e,r){var i=t[e];Lt.call(t,e)&&qa(i,r)&&(r!==n||e in t)||sr(t,e,r)}function ir(t,e){for(var n=t.length;n--;)if(qa(t[n][0],e))return n;return-1}function or(t,e,n,r){return pr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function ar(t,e){return t&&Di(e,Rs(e),t)}function sr(t,e,n){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ur(t,e){for(var r=-1,i=e.length,o=bt(i),a=null==t;++r<i;)o[r]=a?n:Ms(t,e[r]);return o}function cr(t,e,r){return t==t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function lr(t,e,r,i,o,a){var s,u=1&e,c=2&e,l=4&e;if(r&&(s=o?r(t,i,o,a):r(t)),s!==n)return s;if(!rs(t))return t;var f=Xa(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Lt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return Oi(t,s)}else{var h=mo(t),d=h==x||h==b;if(Za(t))return Ai(t,u);if(h==A||h==g||d&&!o){if(s=c||d?{}:_o(t),!u)return c?function(t,e){return Di(t,go(t),e)}(t,function(t,e){return t&&Di(e,Ps(e),t)}(s,t)):function(t,e){return Di(t,vo(t),e)}(t,ar(s,t))}else{if(!oe[h])return o?t:{};s=function(t,e,n){var r,i=t.constructor;switch(e){case D:return Si(t);case y:case _:return new i(+t);case I:return function(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case R:case P:case L:case z:case F:case U:case j:case B:case Y:return ki(t,n);case E:return new i;case T:case M:return new i(t);case k:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case N:return new i;case C:return r=t,jn?kt(jn.call(r)):{}}}(t,h,u)}}a||(a=new Zn);var p=a.get(t);if(p)return p;a.set(t,s),cs(t)?t.forEach((function(n){s.add(lr(n,e,r,n,t,a))})):os(t)&&t.forEach((function(n,i){s.set(i,lr(n,e,r,i,t,a))}));var v=f?n:(l?c?ao:oo:c?Ps:Rs)(t);return Ae(v||t,(function(n,i){v&&(n=t[i=n]),rr(s,i,lr(n,e,r,i,t,a))})),s}function fr(t,e,r){var i=r.length;if(null==t)return!i;for(t=kt(t);i--;){var o=r[i],a=e[o],s=t[o];if(s===n&&!(o in t)||!a(s))return!1}return!0}function hr(t,e,i){if("function"!=typeof t)throw new Ct(r);return Ro((function(){t.apply(n,i)}),e)}function dr(t,e,n,r){var i=-1,o=Me,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=Oe(e,$e(n))),r?(o=Ce,a=!1):e.length>=200&&(o=Ze,a=!1,e=new Kn(e));t:for(;++i<s;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(e[h]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}Yn.templateSettings={escape:K,evaluate:Z,interpolate:Q,variable:"",imports:{_:Yn}},Yn.prototype=Wn.prototype,Yn.prototype.constructor=Yn,Vn.prototype=qn(Wn.prototype),Vn.prototype.constructor=Vn,Hn.prototype=qn(Wn.prototype),Hn.prototype.constructor=Hn,Xn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Xn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Xn.prototype.get=function(t){var e=this.__data__;if(On){var r=e[t];return r===i?n:r}return Lt.call(e,t)?e[t]:n},Xn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==n:Lt.call(e,t)},Xn.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=On&&e===n?i:e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=ir(e,t);return!(n<0||(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,0))},Gn.prototype.get=function(t){var e=this.__data__,r=ir(e,t);return r<0?n:e[r][1]},Gn.prototype.has=function(t){return ir(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,r=ir(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new Xn,map:new(kn||Gn),string:new Xn}},$n.prototype.delete=function(t){var e=fo(this,t).delete(t);return this.size-=e?1:0,e},$n.prototype.get=function(t){return fo(this,t).get(t)},$n.prototype.has=function(t){return fo(this,t).has(t)},$n.prototype.set=function(t,e){var n=fo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(t){return this.__data__.set(t,i),this},Kn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Zn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Zn.prototype.get=function(t){return this.__data__.get(t)},Zn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!kn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $n(r)}return n.set(t,e),this.size=n.size,this};var pr=Pi(br),vr=Pi(Er,!0);function gr(t,e){var n=!0;return pr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function mr(t,e,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(u===n?s==s&&!fs(s):r(s,u)))var u=s,c=a}return c}function yr(t,e){var n=[];return pr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function _r(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=wo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?_r(s,e-1,n,r,i):De(i,s):r||(i[i.length]=s)}return i}var wr=Li(),xr=Li(!0);function br(t,e){return t&&wr(t,e,Rs)}function Er(t,e){return t&&xr(t,e,Rs)}function Tr(t,e){return Ne(e,(function(e){return ts(t[e])}))}function Ar(t,e){for(var r=0,i=(e=xi(e,t)).length;null!=t&&r<i;)t=t[jo(e[r++])];return r&&r==i?t:n}function Sr(t,e,n){var r=e(t);return Xa(t)?r:De(r,n(t))}function kr(t){return null==t?t===n?"[object Undefined]":"[object Null]":ce&&ce in kt(t)?function(t){var e=Lt.call(t,ce),r=t[ce];try{t[ce]=n;var i=!0}catch(t){}var o=Ut.call(t);return i&&(e?t[ce]=r:delete t[ce]),o}(t):function(t){return Ut.call(t)}(t)}function Nr(t,e){return t>e}function Mr(t,e){return null!=t&&Lt.call(t,e)}function Cr(t,e){return null!=t&&e in kt(t)}function Or(t,e,r){for(var i=r?Ce:Me,o=t[0].length,a=t.length,s=a,u=bt(a),c=1/0,l=[];s--;){var f=t[s];s&&e&&(f=Oe(f,$e(e))),c=xn(f.length,c),u[s]=!r&&(e||o>=120&&f.length>=120)?new Kn(s&&f):n}f=t[0];var h=-1,d=u[0];t:for(;++h<o&&l.length<c;){var p=f[h],v=e?e(p):p;if(p=r||0!==p?p:0,!(d?Ze(d,v):i(l,v,r))){for(s=a;--s;){var g=u[s];if(!(g?Ze(g,v):i(t[s],v,r)))continue t}d&&d.push(v),l.push(p)}}return l}function Dr(t,e,r){var i=null==(t=Co(t,e=xi(e,t)))?t:t[jo(Jo(e))];return null==i?n:Ee(i,t,r)}function Ir(t){return is(t)&&kr(t)==g}function Rr(t,e,r,i,o){return t===e||(null==t||null==e||!is(t)&&!is(e)?t!=t&&e!=e:function(t,e,r,i,o,a){var s=Xa(t),u=Xa(e),c=s?m:mo(t),l=u?m:mo(e),f=(c=c==g?A:c)==A,h=(l=l==g?A:l)==A,d=c==l;if(d&&Za(t)){if(!Za(e))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new Zn),s||hs(t)?ro(t,e,r,i,o,a):function(t,e,n,r,i,o,a){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case D:return!(t.byteLength!=e.byteLength||!o(new Vt(t),new Vt(e)));case y:case _:case T:return qa(+t,+e);case w:return t.name==e.name&&t.message==e.message;case k:case M:return t==e+"";case E:var s=an;case N:var u=1&r;if(s||(s=cn),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=ro(s(t),s(e),r,i,o,a);return a.delete(t),l;case C:if(jn)return jn.call(t)==jn.call(e)}return!1}(t,e,c,r,i,o,a);if(!(1&r)){var p=f&&Lt.call(t,"__wrapped__"),v=h&&Lt.call(e,"__wrapped__");if(p||v){var x=p?t.value():t,b=v?e.value():e;return a||(a=new Zn),o(x,b,r,i,a)}}return!!d&&(a||(a=new Zn),function(t,e,r,i,o,a){var s=1&r,u=oo(t),c=u.length,l=oo(e).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var h=u[f];if(!(s?h in e:Lt.call(e,h)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var v=!0;a.set(t,e),a.set(e,t);for(var g=s;++f<c;){var m=t[h=u[f]],y=e[h];if(i)var _=s?i(y,m,h,e,t,a):i(m,y,h,t,e,a);if(!(_===n?m===y||o(m,y,r,i,a):_)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return a.delete(t),a.delete(e),v}(t,e,r,i,o,a))}(t,e,r,i,Rr,o))}function Pr(t,e,r,i){var o=r.length,a=o,s=!i;if(null==t)return!a;for(t=kt(t);o--;){var u=r[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var c=(u=r[o])[0],l=t[c],f=u[1];if(s&&u[2]){if(l===n&&!(c in t))return!1}else{var h=new Zn;if(i)var d=i(l,f,c,t,e,h);if(!(d===n?Rr(f,l,3,i,h):d))return!1}}return!0}function Lr(t){return!(!rs(t)||(e=t,Ft&&Ft in e))&&(ts(t)?Yt:gt).test(Bo(t));var e}function zr(t){return"function"==typeof t?t:null==t?au:"object"==typeof t?Xa(t)?qr(t[0],t[1]):Yr(t):vu(t)}function Fr(t){if(!So(t))return _n(t);var e=[];for(var n in kt(t))Lt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ur(t){if(!rs(t))return function(t){var e=[];if(null!=t)for(var n in kt(t))e.push(n);return e}(t);var e=So(t),n=[];for(var r in t)("constructor"!=r||!e&&Lt.call(t,r))&&n.push(r);return n}function jr(t,e){return t<e}function Br(t,e){var n=-1,r=$a(t)?bt(t.length):[];return pr(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Yr(t){var e=ho(t);return 1==e.length&&e[0][2]?No(e[0][0],e[0][1]):function(n){return n===t||Pr(n,t,e)}}function qr(t,e){return Eo(t)&&ko(e)?No(jo(t),e):function(r){var i=Ms(r,t);return i===n&&i===e?Cs(r,t):Rr(e,i,3)}}function Wr(t,e,r,i,o){t!==e&&wr(e,(function(a,s){if(o||(o=new Zn),rs(a))!function(t,e,r,i,o,a,s){var u=Do(t,r),c=Do(e,r),l=s.get(c);if(l)nr(t,r,l);else{var f=a?a(u,c,r+"",t,e,s):n,h=f===n;if(h){var d=Xa(c),p=!d&&Za(c),v=!d&&!p&&hs(c);f=c,d||p||v?Xa(u)?f=u:Ka(u)?f=Oi(u):p?(h=!1,f=Ai(c,!0)):v?(h=!1,f=ki(c,!0)):f=[]:ss(c)||Ha(c)?(f=u,Ha(u)?f=ws(u):rs(u)&&!ts(u)||(f=_o(c))):h=!1}h&&(s.set(c,f),o(f,c,i,a,s),s.delete(c)),nr(t,r,f)}}(t,e,s,r,Wr,i,o);else{var u=i?i(Do(t,s),a,s+"",t,e,o):n;u===n&&(u=a),nr(t,s,u)}}),Ps)}function Vr(t,e){var r=t.length;if(r)return xo(e+=e<0?r:0,r)?t[e]:n}function Hr(t,e,n){e=e.length?Oe(e,(function(t){return Xa(t)?function(e){return Ar(e,1===t.length?t[0]:t)}:t})):[au];var r=-1;return e=Oe(e,$e(lo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Br(t,(function(t,n,i){return{criteria:Oe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Ni(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Xr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Ar(t,a);n(s,a)&&ei(o,xi(a,t),s)}return o}function Gr(t,e,n,r){var i=r?je:Ue,o=-1,a=e.length,s=t;for(t===e&&(e=Oi(e)),n&&(s=Oe(t,$e(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Qt.call(s,u,1),Qt.call(t,u,1);return t}function $r(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;xo(i)?Qt.call(t,i,1):di(t,i)}}return t}function Kr(t,e){return t+Le(Tn()*(e-t+1))}function Zr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=Le(e/2))&&(t+=t)}while(e);return n}function Qr(t,e){return Po(Mo(t,e,au),t+"")}function Jr(t){return Jn(qs(t))}function ti(t,e){var n=qs(t);return Fo(n,cr(e,0,n.length))}function ei(t,e,r,i){if(!rs(t))return t;for(var o=-1,a=(e=xi(e,t)).length,s=a-1,u=t;null!=u&&++o<a;){var c=jo(e[o]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=s){var f=u[c];(l=i?i(f,c,u):n)===n&&(l=rs(f)?f:xo(e[o+1])?[]:{})}rr(u,c,l),u=u[c]}return t}var ni=Dn?function(t,e){return Dn.set(t,e),t}:au,ri=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:ru(e),writable:!0})}:au;function ii(t){return Fo(qs(t))}function oi(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=bt(i);++r<i;)o[r]=t[r+e];return o}function ai(t,e){var n;return pr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function si(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!fs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ui(t,e,au,n)}function ui(t,e,r,i){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=r(e))!=e,u=null===e,c=fs(e),l=e===n;o<a;){var f=Le((o+a)/2),h=r(t[f]),d=h!==n,p=null===h,v=h==h,g=fs(h);if(s)var m=i||v;else m=l?v&&(i||d):u?v&&d&&(i||!p):c?v&&d&&!p&&(i||!g):!p&&!g&&(i?h<=e:h<e);m?o=f+1:a=f}return xn(a,4294967294)}function ci(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!qa(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function li(t){return"number"==typeof t?t:fs(t)?d:+t}function fi(t){if("string"==typeof t)return t;if(Xa(t))return Oe(t,fi)+"";if(fs(t))return Bn?Bn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function hi(t,e,n){var r=-1,i=Me,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Ce;else if(o>=200){var c=e?null:Zi(t);if(c)return cn(c);a=!1,i=Ze,u=new Kn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function di(t,e){return null==(t=Co(t,e=xi(e,t)))||delete t[jo(Jo(e))]}function pi(t,e,n,r){return ei(t,e,n(Ar(t,e)),r)}function vi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?oi(t,r?0:o,r?o+1:i):oi(t,r?o+1:0,r?i:o)}function gi(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Ie(e,(function(t,e){return e.func.apply(e.thisArg,De([t],e.args))}),n)}function mi(t,e,n){var r=t.length;if(r<2)return r?hi(t[0]):[];for(var i=-1,o=bt(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=dr(o[i]||a,t[s],e,n));return hi(_r(o,1),e,n)}function yi(t,e,r){for(var i=-1,o=t.length,a=e.length,s={};++i<o;){var u=i<a?e[i]:n;r(s,t[i],u)}return s}function _i(t){return Ka(t)?t:[]}function wi(t){return"function"==typeof t?t:au}function xi(t,e){return Xa(t)?t:Eo(t,e)?[t]:Uo(xs(t))}var bi=Qr;function Ei(t,e,r){var i=t.length;return r=r===n?i:r,!e&&r>=i?t:oi(t,e,r)}var Ti=he||function(t){return fe.clearTimeout(t)};function Ai(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function Si(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function ki(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ni(t,e){if(t!==e){var r=t!==n,i=null===t,o=t==t,a=fs(t),s=e!==n,u=null===e,c=e==e,l=fs(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||i&&s&&c||!r&&c||!o)return 1;if(!i&&!a&&!l&&t<e||l&&r&&o&&!i&&!a||u&&r&&o||!s&&o||!c)return-1}return 0}function Mi(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,c=wn(o-a,0),l=bt(u+c),f=!r;++s<u;)l[s]=e[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[s++]=t[i++];return l}function Ci(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,l=wn(o-s,0),f=bt(l+c),h=!r;++i<l;)f[i]=t[i];for(var d=i;++u<c;)f[d+u]=e[u];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=t[i++]);return f}function Oi(t,e){var n=-1,r=t.length;for(e||(e=bt(r));++n<r;)e[n]=t[n];return e}function Di(t,e,r,i){var o=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=i?i(r[u],t[u],u,r,t):n;c===n&&(c=t[u]),o?sr(r,u,c):rr(r,u,c)}return r}function Ii(t,e){return function(n,r){var i=Xa(n)?Te:or,o=e?e():{};return i(n,t,lo(r,2),o)}}function Ri(t){return Qr((function(e,r){var i=-1,o=r.length,a=o>1?r[o-1]:n,s=o>2?r[2]:n;for(a=t.length>3&&"function"==typeof a?(o--,a):n,s&&bo(r[0],r[1],s)&&(a=o<3?n:a,o=1),e=kt(e);++i<o;){var u=r[i];u&&t(e,u,i,a)}return e}))}function Pi(t,e){return function(n,r){if(null==n)return n;if(!$a(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=kt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Li(t){return function(e,n,r){for(var i=-1,o=kt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function zi(t){return function(e){var r=on(e=xs(e))?hn(e):n,i=r?r[0]:e.charAt(0),o=r?Ei(r,1).join(""):e.slice(1);return i[t]()+o}}function Fi(t){return function(e){return Ie(tu(Hs(e).replace(Kt,"")),t,"")}}function Ui(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=qn(t.prototype),r=t.apply(n,e);return rs(r)?r:n}}function ji(t){return function(e,r,i){var o=kt(e);if(!$a(e)){var a=lo(r,3);e=Rs(e),r=function(t){return a(o[t],t,o)}}var s=t(e,r,i);return s>-1?o[a?e[s]:s]:n}}function Bi(t){return io((function(e){var i=e.length,o=i,a=Vn.prototype.thru;for(t&&e.reverse();o--;){var s=e[o];if("function"!=typeof s)throw new Ct(r);if(a&&!u&&"wrapper"==uo(s))var u=new Vn([],!0)}for(o=u?o:i;++o<i;){var c=uo(s=e[o]),l="wrapper"==c?so(s):n;u=l&&To(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[uo(l[0])].apply(u,l[3]):1==s.length&&To(s)?u[c]():u.thru(s)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Xa(n))return u.plant(n).value();for(var r=0,o=i?e[r].apply(this,t):n;++r<i;)o=e[r].call(this,o);return o}}))}function Yi(t,e,r,i,o,a,s,u,l,f){var h=e&c,d=1&e,p=2&e,v=24&e,g=512&e,m=p?n:Ui(t);return function n(){for(var c=arguments.length,y=bt(c),_=c;_--;)y[_]=arguments[_];if(v)var w=co(n),x=tn(y,w);if(i&&(y=Mi(y,i,o,v)),a&&(y=Ci(y,a,s,v)),c-=x,v&&c<f){var b=un(y,w);return $i(t,e,Yi,n.placeholder,r,y,b,u,l,f-c)}var E=d?r:this,T=p?E[t]:t;return c=y.length,u?y=Oo(y,u):g&&c>1&&y.reverse(),h&&l<c&&(y.length=l),this&&this!==fe&&this instanceof n&&(T=m||Ui(T)),T.apply(E,y)}}function qi(t,e){return function(n,r){return function(t,e,n,r){return br(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Wi(t,e){return function(r,i){var o;if(r===n&&i===n)return e;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=fi(r),i=fi(i)):(r=li(r),i=li(i)),o=t(r,i)}return o}}function Vi(t){return io((function(e){return e=Oe(e,$e(lo())),Qr((function(n){var r=this;return t(e,(function(t){return Ee(t,r,n)}))}))}))}function Hi(t,e){var r=(e=e===n?" ":fi(e)).length;if(r<2)return r?Zr(e,t):e;var i=Zr(e,ge(t/fn(e)));return on(e)?Ei(hn(i),0,t).join(""):i.slice(0,t)}function Xi(t){return function(e,r,i){return i&&"number"!=typeof i&&bo(e,r,i)&&(r=i=n),e=gs(e),r===n?(r=e,e=0):r=gs(r),function(t,e,n,r){for(var i=-1,o=wn(ge((e-t)/(n||1)),0),a=bt(o);o--;)a[r?o:++i]=t,t+=n;return a}(e,r,i=i===n?e<r?1:-1:gs(i),t)}}function Gi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=_s(e),n=_s(n)),t(e,n)}}function $i(t,e,r,i,o,a,c,l,f,h){var d=8&e;e|=d?s:u,4&(e&=~(d?u:s))||(e&=-4);var p=[t,e,o,d?a:n,d?c:n,d?n:a,d?n:c,l,f,h],v=r.apply(n,p);return To(t)&&Io(v,p),v.placeholder=i,Lo(v,t,e)}function Ki(t){var e=St[t];return function(t,n){if(t=_s(t),(n=null==n?0:xn(ms(n),292))&&mn(t)){var r=(xs(t)+"e").split("e");return+((r=(xs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Zi=Mn&&1/cn(new Mn([,-0]))[1]==f?function(t){return new Mn(t)}:fu;function Qi(t){return function(e){var n=mo(e);return n==E?an(e):n==N?ln(e):function(t,e){return Oe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ji(t,e,i,f,h,d,p,v){var g=2&e;if(!g&&"function"!=typeof t)throw new Ct(r);var m=f?f.length:0;if(m||(e&=-97,f=h=n),p=p===n?p:wn(ms(p),0),v=v===n?v:ms(v),m-=h?h.length:0,e&u){var y=f,_=h;f=h=n}var w=g?n:so(t),x=[t,e,i,f,h,y,_,d,p,v];if(w&&function(t,e){var n=t[1],r=e[1],i=n|r,a=i<131,s=r==c&&8==n||r==c&&n==l&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!a&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var f=t[3];t[3]=f?Mi(f,u,e[4]):u,t[4]=f?un(t[3],o):e[4]}(u=e[5])&&(f=t[5],t[5]=f?Ci(f,u,e[6]):u,t[6]=f?un(t[5],o):e[6]),(u=e[7])&&(t[7]=u),r&c&&(t[8]=null==t[8]?e[8]:xn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(x,w),t=x[0],e=x[1],i=x[2],f=x[3],h=x[4],!(v=x[9]=x[9]===n?g?0:t.length:wn(x[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||e==a?function(t,e,r){var i=Ui(t);return function o(){for(var a=arguments.length,s=bt(a),u=a,c=co(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:un(s,c);return(a-=l.length)<r?$i(t,e,Yi,o.placeholder,n,s,l,n,n,r-a):Ee(this&&this!==fe&&this instanceof o?i:t,this,s)}}(t,e,v):e!=s&&33!=e||h.length?Yi.apply(n,x):function(t,e,n,r){var i=1&e,o=Ui(t);return function e(){for(var a=-1,s=arguments.length,u=-1,c=r.length,l=bt(c+s),f=this&&this!==fe&&this instanceof e?o:t;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++a];return Ee(f,i?n:this,l)}}(t,e,i,f);else var b=function(t,e,n){var r=1&e,i=Ui(t);return function e(){return(this&&this!==fe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,i);return Lo((w?ni:Io)(b,x),t,e)}function to(t,e,r,i){return t===n||qa(t,It[r])&&!Lt.call(i,r)?e:t}function eo(t,e,r,i,o,a){return rs(t)&&rs(e)&&(a.set(e,t),Wr(t,e,n,eo,a),a.delete(e)),t}function no(t){return ss(t)?n:t}function ro(t,e,r,i,o,a){var s=1&r,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(t),f=a.get(e);if(l&&f)return l==e&&f==t;var h=-1,d=!0,p=2&r?new Kn:n;for(a.set(t,e),a.set(e,t);++h<u;){var v=t[h],g=e[h];if(i)var m=s?i(g,v,h,e,t,a):i(v,g,h,t,e,a);if(m!==n){if(m)continue;d=!1;break}if(p){if(!Pe(e,(function(t,e){if(!Ze(p,e)&&(v===t||o(v,t,r,i,a)))return p.push(e)}))){d=!1;break}}else if(v!==g&&!o(v,g,r,i,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function io(t){return Po(Mo(t,n,Go),t+"")}function oo(t){return Sr(t,Rs,vo)}function ao(t){return Sr(t,Ps,go)}var so=Dn?function(t){return Dn.get(t)}:fu;function uo(t){for(var e=t.name+"",n=In[e],r=Lt.call(In,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function co(t){return(Lt.call(Yn,"placeholder")?Yn:t).placeholder}function lo(){var t=Yn.iteratee||su;return t=t===su?zr:t,arguments.length?t(arguments[0],arguments[1]):t}function fo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ho(t){for(var e=Rs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ko(i)]}return e}function po(t,e){var r=function(t,e){return null==t?n:t[e]}(t,e);return Lr(r)?r:n}var vo=We?function(t){return null==t?[]:(t=kt(t),Ne(We(t),(function(e){return $t.call(t,e)})))}:yu,go=We?function(t){for(var e=[];t;)De(e,vo(t)),t=Xt(t);return e}:yu,mo=kr;function yo(t,e,n){for(var r=-1,i=(e=xi(e,t)).length,o=!1;++r<i;){var a=jo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ns(i)&&xo(a,i)&&(Xa(t)||Ha(t))}function _o(t){return"function"!=typeof t.constructor||So(t)?{}:qn(Xt(t))}function wo(t){return Xa(t)||Ha(t)||!!(te&&t&&t[te])}function xo(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e}function bo(t,e,n){if(!rs(n))return!1;var r=typeof e;return!!("number"==r?$a(n)&&xo(e,n.length):"string"==r&&e in n)&&qa(n[e],t)}function Eo(t,e){if(Xa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!fs(t))||tt.test(t)||!J.test(t)||null!=e&&t in kt(e)}function To(t){var e=uo(t),n=Yn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=so(n);return!!r&&t===r[0]}(Sn&&mo(new Sn(new ArrayBuffer(1)))!=I||kn&&mo(new kn)!=E||Nn&&mo(Nn.resolve())!=S||Mn&&mo(new Mn)!=N||Cn&&mo(new Cn)!=O)&&(mo=function(t){var e=kr(t),r=e==A?t.constructor:n,i=r?Bo(r):"";if(i)switch(i){case Rn:return I;case Pn:return E;case Ln:return S;case zn:return N;case Fn:return O}return e});var Ao=Rt?ts:_u;function So(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)}function ko(t){return t==t&&!rs(t)}function No(t,e){return function(r){return null!=r&&r[t]===e&&(e!==n||t in kt(r))}}function Mo(t,e,r){return e=wn(e===n?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=wn(n.length-e,0),a=bt(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=bt(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),Ee(t,this,s)}}function Co(t,e){return e.length<2?t:Ar(t,oi(e,0,-1))}function Oo(t,e){for(var r=t.length,i=xn(e.length,r),o=Oi(t);i--;){var a=e[i];t[i]=xo(a,r)?o[a]:n}return t}function Do(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Io=zo(ni),Ro=ve||function(t,e){return fe.setTimeout(t,e)},Po=zo(ri);function Lo(t,e,n){var r=e+"";return Po(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ae(v,(function(n){var r="_."+n[0];e&n[1]&&!Me(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(ut):[]}(r),n)))}function zo(t){var e=0,r=0;return function(){var i=bn(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(n,arguments)}}function Fo(t,e){var r=-1,i=t.length,o=i-1;for(e=e===n?i:e;++r<e;){var a=Kr(r,o),s=t[a];t[a]=t[r],t[r]=s}return t.length=e,t}var Uo=function(t){var e=za(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(et,(function(t,n,r,i){e.push(r?i.replace(ft,"$1"):n||t)})),e}));function jo(t){if("string"==typeof t||fs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bo(t){if(null!=t){try{return Pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Yo(t){if(t instanceof Hn)return t.clone();var e=new Vn(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var qo=Qr((function(t,e){return Ka(t)?dr(t,_r(e,1,Ka,!0)):[]})),Wo=Qr((function(t,e){var r=Jo(e);return Ka(r)&&(r=n),Ka(t)?dr(t,_r(e,1,Ka,!0),lo(r,2)):[]})),Vo=Qr((function(t,e){var r=Jo(e);return Ka(r)&&(r=n),Ka(t)?dr(t,_r(e,1,Ka,!0),n,r):[]}));function Ho(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=wn(r+i,0)),Fe(t,lo(e,3),i)}function Xo(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return r!==n&&(o=ms(r),o=r<0?wn(i+o,0):xn(o,i-1)),Fe(t,lo(e,3),o,!0)}function Go(t){return null!=t&&t.length?_r(t,1):[]}function $o(t){return t&&t.length?t[0]:n}var Ko=Qr((function(t){var e=Oe(t,_i);return e.length&&e[0]===t[0]?Or(e):[]})),Zo=Qr((function(t){var e=Jo(t),r=Oe(t,_i);return e===Jo(r)?e=n:r.pop(),r.length&&r[0]===t[0]?Or(r,lo(e,2)):[]})),Qo=Qr((function(t){var e=Jo(t),r=Oe(t,_i);return(e="function"==typeof e?e:n)&&r.pop(),r.length&&r[0]===t[0]?Or(r,n,e):[]}));function Jo(t){var e=null==t?0:t.length;return e?t[e-1]:n}var ta=Qr(ea);function ea(t,e){return t&&t.length&&e&&e.length?Gr(t,e):t}var na=io((function(t,e){var n=null==t?0:t.length,r=ur(t,e);return $r(t,Oe(e,(function(t){return xo(t,n)?+t:t})).sort(Ni)),r}));function ra(t){return null==t?t:An.call(t)}var ia=Qr((function(t){return hi(_r(t,1,Ka,!0))})),oa=Qr((function(t){var e=Jo(t);return Ka(e)&&(e=n),hi(_r(t,1,Ka,!0),lo(e,2))})),aa=Qr((function(t){var e=Jo(t);return e="function"==typeof e?e:n,hi(_r(t,1,Ka,!0),n,e)}));function sa(t){if(!t||!t.length)return[];var e=0;return t=Ne(t,(function(t){if(Ka(t))return e=wn(t.length,e),!0})),Xe(e,(function(e){return Oe(t,qe(e))}))}function ua(t,e){if(!t||!t.length)return[];var r=sa(t);return null==e?r:Oe(r,(function(t){return Ee(e,n,t)}))}var ca=Qr((function(t,e){return Ka(t)?dr(t,e):[]})),la=Qr((function(t){return mi(Ne(t,Ka))})),fa=Qr((function(t){var e=Jo(t);return Ka(e)&&(e=n),mi(Ne(t,Ka),lo(e,2))})),ha=Qr((function(t){var e=Jo(t);return e="function"==typeof e?e:n,mi(Ne(t,Ka),n,e)})),da=Qr(sa),pa=Qr((function(t){var e=t.length,r=e>1?t[e-1]:n;return r="function"==typeof r?(t.pop(),r):n,ua(t,r)}));function va(t){var e=Yn(t);return e.__chain__=!0,e}function ga(t,e){return e(t)}var ma=io((function(t){var e=t.length,r=e?t[0]:0,i=this.__wrapped__,o=function(e){return ur(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Hn&&xo(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:ga,args:[o],thisArg:n}),new Vn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(n),t}))):this.thru(o)})),ya=Ii((function(t,e,n){Lt.call(t,n)?++t[n]:sr(t,n,1)})),_a=ji(Ho),wa=ji(Xo);function xa(t,e){return(Xa(t)?Ae:pr)(t,lo(e,3))}function ba(t,e){return(Xa(t)?Se:vr)(t,lo(e,3))}var Ea=Ii((function(t,e,n){Lt.call(t,n)?t[n].push(e):sr(t,n,[e])})),Ta=Qr((function(t,e,n){var r=-1,i="function"==typeof e,o=$a(t)?bt(t.length):[];return pr(t,(function(t){o[++r]=i?Ee(e,t,n):Dr(t,e,n)})),o})),Aa=Ii((function(t,e,n){sr(t,n,e)}));function Sa(t,e){return(Xa(t)?Oe:Br)(t,lo(e,3))}var ka=Ii((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Na=Qr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&bo(t,e[0],e[1])?e=[]:n>2&&bo(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,_r(e,1),[])})),Ma=de||function(){return fe.Date.now()};function Ca(t,e,r){return e=r?n:e,e=t&&null==e?t.length:e,Ji(t,c,n,n,n,n,e)}function Oa(t,e){var i;if("function"!=typeof e)throw new Ct(r);return t=ms(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var Da=Qr((function(t,e,n){var r=1;if(n.length){var i=un(n,co(Da));r|=s}return Ji(t,r,e,n,i)})),Ia=Qr((function(t,e,n){var r=3;if(n.length){var i=un(n,co(Ia));r|=s}return Ji(e,r,t,n,i)}));function Ra(t,e,i){var o,a,s,u,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new Ct(r);function v(e){var r=o,i=a;return o=a=n,f=e,u=t.apply(i,r)}function g(t){return f=t,c=Ro(y,e),h?v(t):u}function m(t){var r=t-l;return l===n||r>=e||r<0||d&&t-f>=s}function y(){var t=Ma();if(m(t))return _(t);c=Ro(y,function(t){var n=e-(t-l);return d?xn(n,s-(t-f)):n}(t))}function _(t){return c=n,p&&o?v(t):(o=a=n,u)}function w(){var t=Ma(),r=m(t);if(o=arguments,a=this,l=t,r){if(c===n)return g(l);if(d)return Ti(c),c=Ro(y,e),v(l)}return c===n&&(c=Ro(y,e)),u}return e=_s(e)||0,rs(i)&&(h=!!i.leading,s=(d="maxWait"in i)?wn(_s(i.maxWait)||0,e):s,p="trailing"in i?!!i.trailing:p),w.cancel=function(){c!==n&&Ti(c),f=0,o=l=a=c=n},w.flush=function(){return c===n?u:_(Ma())},w}var Pa=Qr((function(t,e){return hr(t,1,e)})),La=Qr((function(t,e,n){return hr(t,_s(e)||0,n)}));function za(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ct(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(za.Cache||$n),n}function Fa(t){if("function"!=typeof t)throw new Ct(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}za.Cache=$n;var Ua=bi((function(t,e){var n=(e=1==e.length&&Xa(e[0])?Oe(e[0],$e(lo())):Oe(_r(e,1),$e(lo()))).length;return Qr((function(r){for(var i=-1,o=xn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ee(t,this,r)}))})),ja=Qr((function(t,e){var r=un(e,co(ja));return Ji(t,s,n,e,r)})),Ba=Qr((function(t,e){var r=un(e,co(Ba));return Ji(t,u,n,e,r)})),Ya=io((function(t,e){return Ji(t,l,n,n,n,e)}));function qa(t,e){return t===e||t!=t&&e!=e}var Wa=Gi(Nr),Va=Gi((function(t,e){return t>=e})),Ha=Ir(function(){return arguments}())?Ir:function(t){return is(t)&&Lt.call(t,"callee")&&!$t.call(t,"callee")},Xa=bt.isArray,Ga=me?$e(me):function(t){return is(t)&&kr(t)==D};function $a(t){return null!=t&&ns(t.length)&&!ts(t)}function Ka(t){return is(t)&&$a(t)}var Za=gn||_u,Qa=ye?$e(ye):function(t){return is(t)&&kr(t)==_};function Ja(t){if(!is(t))return!1;var e=kr(t);return e==w||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ss(t)}function ts(t){if(!rs(t))return!1;var e=kr(t);return e==x||e==b||"[object AsyncFunction]"==e||"[object Proxy]"==e}function es(t){return"number"==typeof t&&t==ms(t)}function ns(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function rs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function is(t){return null!=t&&"object"==typeof t}var os=_e?$e(_e):function(t){return is(t)&&mo(t)==E};function as(t){return"number"==typeof t||is(t)&&kr(t)==T}function ss(t){if(!is(t)||kr(t)!=A)return!1;var e=Xt(t);if(null===e)return!0;var n=Lt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pt.call(n)==jt}var us=we?$e(we):function(t){return is(t)&&kr(t)==k},cs=xe?$e(xe):function(t){return is(t)&&mo(t)==N};function ls(t){return"string"==typeof t||!Xa(t)&&is(t)&&kr(t)==M}function fs(t){return"symbol"==typeof t||is(t)&&kr(t)==C}var hs=be?$e(be):function(t){return is(t)&&ns(t.length)&&!!ie[kr(t)]},ds=Gi(jr),ps=Gi((function(t,e){return t<=e}));function vs(t){if(!t)return[];if($a(t))return ls(t)?hn(t):Oi(t);if(ae&&t[ae])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ae]());var e=mo(t);return(e==E?an:e==N?cn:qs)(t)}function gs(t){return t?(t=_s(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ms(t){var e=gs(t),n=e%1;return e==e?n?e-n:e:0}function ys(t){return t?cr(ms(t),0,p):0}function _s(t){if("number"==typeof t)return t;if(fs(t))return d;if(rs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=rs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ge(t);var n=vt.test(t);return n||mt.test(t)?ue(t.slice(2),n?2:8):pt.test(t)?d:+t}function ws(t){return Di(t,Ps(t))}function xs(t){return null==t?"":fi(t)}var bs=Ri((function(t,e){if(So(e)||$a(e))Di(e,Rs(e),t);else for(var n in e)Lt.call(e,n)&&rr(t,n,e[n])})),Es=Ri((function(t,e){Di(e,Ps(e),t)})),Ts=Ri((function(t,e,n,r){Di(e,Ps(e),t,r)})),As=Ri((function(t,e,n,r){Di(e,Rs(e),t,r)})),Ss=io(ur),ks=Qr((function(t,e){t=kt(t);var r=-1,i=e.length,o=i>2?e[2]:n;for(o&&bo(e[0],e[1],o)&&(i=1);++r<i;)for(var a=e[r],s=Ps(a),u=-1,c=s.length;++u<c;){var l=s[u],f=t[l];(f===n||qa(f,It[l])&&!Lt.call(t,l))&&(t[l]=a[l])}return t})),Ns=Qr((function(t){return t.push(n,eo),Ee(zs,n,t)}));function Ms(t,e,r){var i=null==t?n:Ar(t,e);return i===n?r:i}function Cs(t,e){return null!=t&&yo(t,e,Cr)}var Os=qi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ut.call(e)),t[e]=n}),ru(au)),Ds=qi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ut.call(e)),Lt.call(t,e)?t[e].push(n):t[e]=[n]}),lo),Is=Qr(Dr);function Rs(t){return $a(t)?Qn(t):Fr(t)}function Ps(t){return $a(t)?Qn(t,!0):Ur(t)}var Ls=Ri((function(t,e,n){Wr(t,e,n)})),zs=Ri((function(t,e,n,r){Wr(t,e,n,r)})),Fs=io((function(t,e){var n={};if(null==t)return n;var r=!1;e=Oe(e,(function(e){return e=xi(e,t),r||(r=e.length>1),e})),Di(t,ao(t),n),r&&(n=lr(n,7,no));for(var i=e.length;i--;)di(n,e[i]);return n})),Us=io((function(t,e){return null==t?{}:function(t,e){return Xr(t,e,(function(e,n){return Cs(t,n)}))}(t,e)}));function js(t,e){if(null==t)return{};var n=Oe(ao(t),(function(t){return[t]}));return e=lo(e),Xr(t,n,(function(t,n){return e(t,n[0])}))}var Bs=Qi(Rs),Ys=Qi(Ps);function qs(t){return null==t?[]:Ke(t,Rs(t))}var Ws=Fi((function(t,e,n){return e=e.toLowerCase(),t+(n?Vs(e):e)}));function Vs(t){return Js(xs(t).toLowerCase())}function Hs(t){return(t=xs(t))&&t.replace(_t,en).replace(Zt,"")}var Xs=Fi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Gs=Fi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),$s=zi("toLowerCase"),Ks=Fi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Zs=Fi((function(t,e,n){return t+(n?" ":"")+Js(e)})),Qs=Fi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Js=zi("toUpperCase");function tu(t,e,r){return t=xs(t),(e=r?n:e)===n?function(t){return ee.test(t)}(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var eu=Qr((function(t,e){try{return Ee(t,n,e)}catch(t){return Ja(t)?t:new Tt(t)}})),nu=io((function(t,e){return Ae(e,(function(e){e=jo(e),sr(t,e,Da(t[e],t))})),t}));function ru(t){return function(){return t}}var iu=Bi(),ou=Bi(!0);function au(t){return t}function su(t){return zr("function"==typeof t?t:lr(t,1))}var uu=Qr((function(t,e){return function(n){return Dr(n,t,e)}})),cu=Qr((function(t,e){return function(n){return Dr(t,n,e)}}));function lu(t,e,n){var r=Rs(e),i=Tr(e,r);null!=n||rs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Tr(e,Rs(e)));var o=!(rs(n)&&"chain"in n&&!n.chain),a=ts(t);return Ae(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,De([this.value()],arguments))})})),t}function fu(){}var hu=Vi(Oe),du=Vi(ke),pu=Vi(Pe);function vu(t){return Eo(t)?qe(jo(t)):function(t){return function(e){return Ar(e,t)}}(t)}var gu=Xi(),mu=Xi(!0);function yu(){return[]}function _u(){return!1}var wu,xu=Wi((function(t,e){return t+e}),0),bu=Ki("ceil"),Eu=Wi((function(t,e){return t/e}),1),Tu=Ki("floor"),Au=Wi((function(t,e){return t*e}),1),Su=Ki("round"),ku=Wi((function(t,e){return t-e}),0);return Yn.after=function(t,e){if("function"!=typeof e)throw new Ct(r);return t=ms(t),function(){if(--t<1)return e.apply(this,arguments)}},Yn.ary=Ca,Yn.assign=bs,Yn.assignIn=Es,Yn.assignInWith=Ts,Yn.assignWith=As,Yn.at=Ss,Yn.before=Oa,Yn.bind=Da,Yn.bindAll=nu,Yn.bindKey=Ia,Yn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Xa(t)?t:[t]},Yn.chain=va,Yn.chunk=function(t,e,r){e=(r?bo(t,e,r):e===n)?1:wn(ms(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=bt(ge(i/e));o<i;)s[a++]=oi(t,o,o+=e);return s},Yn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Yn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=bt(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return De(Xa(n)?Oi(n):[n],_r(e,1))},Yn.cond=function(t){var e=null==t?0:t.length,n=lo();return t=e?Oe(t,(function(t){if("function"!=typeof t[1])throw new Ct(r);return[n(t[0]),t[1]]})):[],Qr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ee(i[0],this,n))return Ee(i[1],this,n)}}))},Yn.conforms=function(t){return function(t){var e=Rs(t);return function(n){return fr(n,t,e)}}(lr(t,1))},Yn.constant=ru,Yn.countBy=ya,Yn.create=function(t,e){var n=qn(t);return null==e?n:ar(n,e)},Yn.curry=function t(e,r,i){var o=Ji(e,8,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},Yn.curryRight=function t(e,r,i){var o=Ji(e,a,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},Yn.debounce=Ra,Yn.defaults=ks,Yn.defaultsDeep=Ns,Yn.defer=Pa,Yn.delay=La,Yn.difference=qo,Yn.differenceBy=Wo,Yn.differenceWith=Vo,Yn.drop=function(t,e,r){var i=null==t?0:t.length;return i?oi(t,(e=r||e===n?1:ms(e))<0?0:e,i):[]},Yn.dropRight=function(t,e,r){var i=null==t?0:t.length;return i?oi(t,0,(e=i-(e=r||e===n?1:ms(e)))<0?0:e):[]},Yn.dropRightWhile=function(t,e){return t&&t.length?vi(t,lo(e,3),!0,!0):[]},Yn.dropWhile=function(t,e){return t&&t.length?vi(t,lo(e,3),!0):[]},Yn.fill=function(t,e,r,i){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&bo(t,e,r)&&(r=0,i=o),function(t,e,r,i){var o=t.length;for((r=ms(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:ms(i))<0&&(i+=o),i=r>i?0:ys(i);r<i;)t[r++]=e;return t}(t,e,r,i)):[]},Yn.filter=function(t,e){return(Xa(t)?Ne:yr)(t,lo(e,3))},Yn.flatMap=function(t,e){return _r(Sa(t,e),1)},Yn.flatMapDeep=function(t,e){return _r(Sa(t,e),f)},Yn.flatMapDepth=function(t,e,r){return r=r===n?1:ms(r),_r(Sa(t,e),r)},Yn.flatten=Go,Yn.flattenDeep=function(t){return null!=t&&t.length?_r(t,f):[]},Yn.flattenDepth=function(t,e){return null!=t&&t.length?_r(t,e=e===n?1:ms(e)):[]},Yn.flip=function(t){return Ji(t,512)},Yn.flow=iu,Yn.flowRight=ou,Yn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Yn.functions=function(t){return null==t?[]:Tr(t,Rs(t))},Yn.functionsIn=function(t){return null==t?[]:Tr(t,Ps(t))},Yn.groupBy=Ea,Yn.initial=function(t){return null!=t&&t.length?oi(t,0,-1):[]},Yn.intersection=Ko,Yn.intersectionBy=Zo,Yn.intersectionWith=Qo,Yn.invert=Os,Yn.invertBy=Ds,Yn.invokeMap=Ta,Yn.iteratee=su,Yn.keyBy=Aa,Yn.keys=Rs,Yn.keysIn=Ps,Yn.map=Sa,Yn.mapKeys=function(t,e){var n={};return e=lo(e,3),br(t,(function(t,r,i){sr(n,e(t,r,i),t)})),n},Yn.mapValues=function(t,e){var n={};return e=lo(e,3),br(t,(function(t,r,i){sr(n,r,e(t,r,i))})),n},Yn.matches=function(t){return Yr(lr(t,1))},Yn.matchesProperty=function(t,e){return qr(t,lr(e,1))},Yn.memoize=za,Yn.merge=Ls,Yn.mergeWith=zs,Yn.method=uu,Yn.methodOf=cu,Yn.mixin=lu,Yn.negate=Fa,Yn.nthArg=function(t){return t=ms(t),Qr((function(e){return Vr(e,t)}))},Yn.omit=Fs,Yn.omitBy=function(t,e){return js(t,Fa(lo(e)))},Yn.once=function(t){return Oa(2,t)},Yn.orderBy=function(t,e,r,i){return null==t?[]:(Xa(e)||(e=null==e?[]:[e]),Xa(r=i?n:r)||(r=null==r?[]:[r]),Hr(t,e,r))},Yn.over=hu,Yn.overArgs=Ua,Yn.overEvery=du,Yn.overSome=pu,Yn.partial=ja,Yn.partialRight=Ba,Yn.partition=ka,Yn.pick=Us,Yn.pickBy=js,Yn.property=vu,Yn.propertyOf=function(t){return function(e){return null==t?n:Ar(t,e)}},Yn.pull=ta,Yn.pullAll=ea,Yn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,lo(n,2)):t},Yn.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Gr(t,e,n,r):t},Yn.pullAt=na,Yn.range=gu,Yn.rangeRight=mu,Yn.rearg=Ya,Yn.reject=function(t,e){return(Xa(t)?Ne:yr)(t,Fa(lo(e,3)))},Yn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=lo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return $r(t,i),n},Yn.rest=function(t,e){if("function"!=typeof t)throw new Ct(r);return Qr(t,e=e===n?e:ms(e))},Yn.reverse=ra,Yn.sampleSize=function(t,e,r){return e=(r?bo(t,e,r):e===n)?1:ms(e),(Xa(t)?tr:ti)(t,e)},Yn.set=function(t,e,n){return null==t?t:ei(t,e,n)},Yn.setWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:ei(t,e,r,i)},Yn.shuffle=function(t){return(Xa(t)?er:ii)(t)},Yn.slice=function(t,e,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&bo(t,e,r)?(e=0,r=i):(e=null==e?0:ms(e),r=r===n?i:ms(r)),oi(t,e,r)):[]},Yn.sortBy=Na,Yn.sortedUniq=function(t){return t&&t.length?ci(t):[]},Yn.sortedUniqBy=function(t,e){return t&&t.length?ci(t,lo(e,2)):[]},Yn.split=function(t,e,r){return r&&"number"!=typeof r&&bo(t,e,r)&&(e=r=n),(r=r===n?p:r>>>0)?(t=xs(t))&&("string"==typeof e||null!=e&&!us(e))&&!(e=fi(e))&&on(t)?Ei(hn(t),0,r):t.split(e,r):[]},Yn.spread=function(t,e){if("function"!=typeof t)throw new Ct(r);return e=null==e?0:wn(ms(e),0),Qr((function(n){var r=n[e],i=Ei(n,0,e);return r&&De(i,r),Ee(t,this,i)}))},Yn.tail=function(t){var e=null==t?0:t.length;return e?oi(t,1,e):[]},Yn.take=function(t,e,r){return t&&t.length?oi(t,0,(e=r||e===n?1:ms(e))<0?0:e):[]},Yn.takeRight=function(t,e,r){var i=null==t?0:t.length;return i?oi(t,(e=i-(e=r||e===n?1:ms(e)))<0?0:e,i):[]},Yn.takeRightWhile=function(t,e){return t&&t.length?vi(t,lo(e,3),!1,!0):[]},Yn.takeWhile=function(t,e){return t&&t.length?vi(t,lo(e,3)):[]},Yn.tap=function(t,e){return e(t),t},Yn.throttle=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new Ct(r);return rs(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Ra(t,e,{leading:i,maxWait:e,trailing:o})},Yn.thru=ga,Yn.toArray=vs,Yn.toPairs=Bs,Yn.toPairsIn=Ys,Yn.toPath=function(t){return Xa(t)?Oe(t,jo):fs(t)?[t]:Oi(Uo(xs(t)))},Yn.toPlainObject=ws,Yn.transform=function(t,e,n){var r=Xa(t),i=r||Za(t)||hs(t);if(e=lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:rs(t)&&ts(o)?qn(Xt(t)):{}}return(i?Ae:br)(t,(function(t,r,i){return e(n,t,r,i)})),n},Yn.unary=function(t){return Ca(t,1)},Yn.union=ia,Yn.unionBy=oa,Yn.unionWith=aa,Yn.uniq=function(t){return t&&t.length?hi(t):[]},Yn.uniqBy=function(t,e){return t&&t.length?hi(t,lo(e,2)):[]},Yn.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?hi(t,n,e):[]},Yn.unset=function(t,e){return null==t||di(t,e)},Yn.unzip=sa,Yn.unzipWith=ua,Yn.update=function(t,e,n){return null==t?t:pi(t,e,wi(n))},Yn.updateWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:pi(t,e,wi(r),i)},Yn.values=qs,Yn.valuesIn=function(t){return null==t?[]:Ke(t,Ps(t))},Yn.without=ca,Yn.words=tu,Yn.wrap=function(t,e){return ja(wi(e),t)},Yn.xor=la,Yn.xorBy=fa,Yn.xorWith=ha,Yn.zip=da,Yn.zipObject=function(t,e){return yi(t||[],e||[],rr)},Yn.zipObjectDeep=function(t,e){return yi(t||[],e||[],ei)},Yn.zipWith=pa,Yn.entries=Bs,Yn.entriesIn=Ys,Yn.extend=Es,Yn.extendWith=Ts,lu(Yn,Yn),Yn.add=xu,Yn.attempt=eu,Yn.camelCase=Ws,Yn.capitalize=Vs,Yn.ceil=bu,Yn.clamp=function(t,e,r){return r===n&&(r=e,e=n),r!==n&&(r=(r=_s(r))==r?r:0),e!==n&&(e=(e=_s(e))==e?e:0),cr(_s(t),e,r)},Yn.clone=function(t){return lr(t,4)},Yn.cloneDeep=function(t){return lr(t,5)},Yn.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:n)},Yn.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:n)},Yn.conformsTo=function(t,e){return null==e||fr(t,e,Rs(e))},Yn.deburr=Hs,Yn.defaultTo=function(t,e){return null==t||t!=t?e:t},Yn.divide=Eu,Yn.endsWith=function(t,e,r){t=xs(t),e=fi(e);var i=t.length,o=r=r===n?i:cr(ms(r),0,i);return(r-=e.length)>=0&&t.slice(r,o)==e},Yn.eq=qa,Yn.escape=function(t){return(t=xs(t))&&$.test(t)?t.replace(X,nn):t},Yn.escapeRegExp=function(t){return(t=xs(t))&&rt.test(t)?t.replace(nt,"\\$&"):t},Yn.every=function(t,e,r){var i=Xa(t)?ke:gr;return r&&bo(t,e,r)&&(e=n),i(t,lo(e,3))},Yn.find=_a,Yn.findIndex=Ho,Yn.findKey=function(t,e){return ze(t,lo(e,3),br)},Yn.findLast=wa,Yn.findLastIndex=Xo,Yn.findLastKey=function(t,e){return ze(t,lo(e,3),Er)},Yn.floor=Tu,Yn.forEach=xa,Yn.forEachRight=ba,Yn.forIn=function(t,e){return null==t?t:wr(t,lo(e,3),Ps)},Yn.forInRight=function(t,e){return null==t?t:xr(t,lo(e,3),Ps)},Yn.forOwn=function(t,e){return t&&br(t,lo(e,3))},Yn.forOwnRight=function(t,e){return t&&Er(t,lo(e,3))},Yn.get=Ms,Yn.gt=Wa,Yn.gte=Va,Yn.has=function(t,e){return null!=t&&yo(t,e,Mr)},Yn.hasIn=Cs,Yn.head=$o,Yn.identity=au,Yn.includes=function(t,e,n,r){t=$a(t)?t:qs(t),n=n&&!r?ms(n):0;var i=t.length;return n<0&&(n=wn(i+n,0)),ls(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ue(t,e,n)>-1},Yn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=wn(r+i,0)),Ue(t,e,i)},Yn.inRange=function(t,e,r){return e=gs(e),r===n?(r=e,e=0):r=gs(r),function(t,e,n){return t>=xn(e,n)&&t<wn(e,n)}(t=_s(t),e,r)},Yn.invoke=Is,Yn.isArguments=Ha,Yn.isArray=Xa,Yn.isArrayBuffer=Ga,Yn.isArrayLike=$a,Yn.isArrayLikeObject=Ka,Yn.isBoolean=function(t){return!0===t||!1===t||is(t)&&kr(t)==y},Yn.isBuffer=Za,Yn.isDate=Qa,Yn.isElement=function(t){return is(t)&&1===t.nodeType&&!ss(t)},Yn.isEmpty=function(t){if(null==t)return!0;if($a(t)&&(Xa(t)||"string"==typeof t||"function"==typeof t.splice||Za(t)||hs(t)||Ha(t)))return!t.length;var e=mo(t);if(e==E||e==N)return!t.size;if(So(t))return!Fr(t).length;for(var n in t)if(Lt.call(t,n))return!1;return!0},Yn.isEqual=function(t,e){return Rr(t,e)},Yn.isEqualWith=function(t,e,r){var i=(r="function"==typeof r?r:n)?r(t,e):n;return i===n?Rr(t,e,n,r):!!i},Yn.isError=Ja,Yn.isFinite=function(t){return"number"==typeof t&&mn(t)},Yn.isFunction=ts,Yn.isInteger=es,Yn.isLength=ns,Yn.isMap=os,Yn.isMatch=function(t,e){return t===e||Pr(t,e,ho(e))},Yn.isMatchWith=function(t,e,r){return r="function"==typeof r?r:n,Pr(t,e,ho(e),r)},Yn.isNaN=function(t){return as(t)&&t!=+t},Yn.isNative=function(t){if(Ao(t))throw new Tt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(t)},Yn.isNil=function(t){return null==t},Yn.isNull=function(t){return null===t},Yn.isNumber=as,Yn.isObject=rs,Yn.isObjectLike=is,Yn.isPlainObject=ss,Yn.isRegExp=us,Yn.isSafeInteger=function(t){return es(t)&&t>=-9007199254740991&&t<=h},Yn.isSet=cs,Yn.isString=ls,Yn.isSymbol=fs,Yn.isTypedArray=hs,Yn.isUndefined=function(t){return t===n},Yn.isWeakMap=function(t){return is(t)&&mo(t)==O},Yn.isWeakSet=function(t){return is(t)&&"[object WeakSet]"==kr(t)},Yn.join=function(t,e){return null==t?"":yn.call(t,e)},Yn.kebabCase=Xs,Yn.last=Jo,Yn.lastIndexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=ms(r))<0?wn(i+o,0):xn(o,i-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Fe(t,Be,o,!0)},Yn.lowerCase=Gs,Yn.lowerFirst=$s,Yn.lt=ds,Yn.lte=ps,Yn.max=function(t){return t&&t.length?mr(t,au,Nr):n},Yn.maxBy=function(t,e){return t&&t.length?mr(t,lo(e,2),Nr):n},Yn.mean=function(t){return Ye(t,au)},Yn.meanBy=function(t,e){return Ye(t,lo(e,2))},Yn.min=function(t){return t&&t.length?mr(t,au,jr):n},Yn.minBy=function(t,e){return t&&t.length?mr(t,lo(e,2),jr):n},Yn.stubArray=yu,Yn.stubFalse=_u,Yn.stubObject=function(){return{}},Yn.stubString=function(){return""},Yn.stubTrue=function(){return!0},Yn.multiply=Au,Yn.nth=function(t,e){return t&&t.length?Vr(t,ms(e)):n},Yn.noConflict=function(){return fe._===this&&(fe._=Bt),this},Yn.noop=fu,Yn.now=Ma,Yn.pad=function(t,e,n){t=xs(t);var r=(e=ms(e))?fn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Hi(Le(i),n)+t+Hi(ge(i),n)},Yn.padEnd=function(t,e,n){t=xs(t);var r=(e=ms(e))?fn(t):0;return e&&r<e?t+Hi(e-r,n):t},Yn.padStart=function(t,e,n){t=xs(t);var r=(e=ms(e))?fn(t):0;return e&&r<e?Hi(e-r,n)+t:t},Yn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),En(xs(t).replace(it,""),e||0)},Yn.random=function(t,e,r){if(r&&"boolean"!=typeof r&&bo(t,e,r)&&(e=r=n),r===n&&("boolean"==typeof e?(r=e,e=n):"boolean"==typeof t&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=gs(t),e===n?(e=t,t=0):e=gs(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var o=Tn();return xn(t+o*(e-t+se("1e-"+((o+"").length-1))),e)}return Kr(t,e)},Yn.reduce=function(t,e,n){var r=Xa(t)?Ie:Ve,i=arguments.length<3;return r(t,lo(e,4),n,i,pr)},Yn.reduceRight=function(t,e,n){var r=Xa(t)?Re:Ve,i=arguments.length<3;return r(t,lo(e,4),n,i,vr)},Yn.repeat=function(t,e,r){return e=(r?bo(t,e,r):e===n)?1:ms(e),Zr(xs(t),e)},Yn.replace=function(){var t=arguments,e=xs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Yn.result=function(t,e,r){var i=-1,o=(e=xi(e,t)).length;for(o||(o=1,t=n);++i<o;){var a=null==t?n:t[jo(e[i])];a===n&&(i=o,a=r),t=ts(a)?a.call(t):a}return t},Yn.round=Su,Yn.runInContext=t,Yn.sample=function(t){return(Xa(t)?Jn:Jr)(t)},Yn.size=function(t){if(null==t)return 0;if($a(t))return ls(t)?fn(t):t.length;var e=mo(t);return e==E||e==N?t.size:Fr(t).length},Yn.snakeCase=Ks,Yn.some=function(t,e,r){var i=Xa(t)?Pe:ai;return r&&bo(t,e,r)&&(e=n),i(t,lo(e,3))},Yn.sortedIndex=function(t,e){return si(t,e)},Yn.sortedIndexBy=function(t,e,n){return ui(t,e,lo(n,2))},Yn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=si(t,e);if(r<n&&qa(t[r],e))return r}return-1},Yn.sortedLastIndex=function(t,e){return si(t,e,!0)},Yn.sortedLastIndexBy=function(t,e,n){return ui(t,e,lo(n,2),!0)},Yn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=si(t,e,!0)-1;if(qa(t[n],e))return n}return-1},Yn.startCase=Zs,Yn.startsWith=function(t,e,n){return t=xs(t),n=null==n?0:cr(ms(n),0,t.length),e=fi(e),t.slice(n,n+e.length)==e},Yn.subtract=ku,Yn.sum=function(t){return t&&t.length?He(t,au):0},Yn.sumBy=function(t,e){return t&&t.length?He(t,lo(e,2)):0},Yn.template=function(t,e,r){var i=Yn.templateSettings;r&&bo(t,e,r)&&(e=n),t=xs(t),e=Ts({},e,i,to);var o,a,s=Ts({},e.imports,i.imports,to),u=Rs(s),c=Ke(s,u),l=0,f=e.interpolate||wt,h="__p += '",d=Nt((e.escape||wt).source+"|"+f.source+"|"+(f===Q?ht:wt).source+"|"+(e.evaluate||wt).source+"|$","g"),p="//# sourceURL="+(Lt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++re+"]")+"\n";t.replace(d,(function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(l,u).replace(xt,rn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),h+="';\n";var v=Lt.call(e,"variable")&&e.variable;if(v){if(lt.test(v))throw new Tt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(q,""):h).replace(W,"$1").replace(V,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=eu((function(){return At(u,p+"return "+h).apply(n,c)}));if(g.source=h,Ja(g))throw g;return g},Yn.times=function(t,e){if((t=ms(t))<1||t>h)return[];var n=p,r=xn(t,p);e=lo(e),t-=p;for(var i=Xe(r,e);++n<t;)e(n);return i},Yn.toFinite=gs,Yn.toInteger=ms,Yn.toLength=ys,Yn.toLower=function(t){return xs(t).toLowerCase()},Yn.toNumber=_s,Yn.toSafeInteger=function(t){return t?cr(ms(t),-9007199254740991,h):0===t?t:0},Yn.toString=xs,Yn.toUpper=function(t){return xs(t).toUpperCase()},Yn.trim=function(t,e,r){if((t=xs(t))&&(r||e===n))return Ge(t);if(!t||!(e=fi(e)))return t;var i=hn(t),o=hn(e);return Ei(i,Qe(i,o),Je(i,o)+1).join("")},Yn.trimEnd=function(t,e,r){if((t=xs(t))&&(r||e===n))return t.slice(0,dn(t)+1);if(!t||!(e=fi(e)))return t;var i=hn(t);return Ei(i,0,Je(i,hn(e))+1).join("")},Yn.trimStart=function(t,e,r){if((t=xs(t))&&(r||e===n))return t.replace(it,"");if(!t||!(e=fi(e)))return t;var i=hn(t);return Ei(i,Qe(i,hn(e))).join("")},Yn.truncate=function(t,e){var r=30,i="...";if(rs(e)){var o="separator"in e?e.separator:o;r="length"in e?ms(e.length):r,i="omission"in e?fi(e.omission):i}var a=(t=xs(t)).length;if(on(t)){var s=hn(t);a=s.length}if(r>=a)return t;var u=r-fn(i);if(u<1)return i;var c=s?Ei(s,0,u).join(""):t.slice(0,u);if(o===n)return c+i;if(s&&(u+=c.length-u),us(o)){if(t.slice(u).search(o)){var l,f=c;for(o.global||(o=Nt(o.source,xs(dt.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var h=l.index;c=c.slice(0,h===n?u:h)}}else if(t.indexOf(fi(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+i},Yn.unescape=function(t){return(t=xs(t))&&G.test(t)?t.replace(H,pn):t},Yn.uniqueId=function(t){var e=++zt;return xs(t)+e},Yn.upperCase=Qs,Yn.upperFirst=Js,Yn.each=xa,Yn.eachRight=ba,Yn.first=$o,lu(Yn,(wu={},br(Yn,(function(t,e){Lt.call(Yn.prototype,e)||(wu[e]=t)})),wu),{chain:!1}),Yn.VERSION="4.17.21",Ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Yn[t].placeholder=Yn})),Ae(["drop","take"],(function(t,e){Hn.prototype[t]=function(r){r=r===n?1:wn(ms(r),0);var i=this.__filtered__&&!e?new Hn(this):this.clone();return i.__filtered__?i.__takeCount__=xn(r,i.__takeCount__):i.__views__.push({size:xn(r,p),type:t+(i.__dir__<0?"Right":"")}),i},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ae(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ae(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),Ae(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(au)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Qr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return Dr(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Fa(lo(t)))},Hn.prototype.slice=function(t,e){t=ms(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Hn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(r=(e=ms(e))<0?r.dropRight(-e):r.take(e-t)),r)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(p)},br(Hn.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=Yn[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(Yn.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,u=e instanceof Hn,c=s[0],l=u||Xa(e),f=function(t){var e=o.apply(Yn,De([t],s));return i&&h?e[0]:e};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,v=u&&!d;if(!a&&l){e=v?e:new Hn(this);var g=t.apply(e,s);return g.__actions__.push({func:ga,args:[f],thisArg:n}),new Vn(g,h)}return p&&v?t.apply(this,s):(g=this.thru(f),p?i?g.value()[0]:g.value():g)})})),Ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ot[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Yn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Xa(i)?i:[],t)}return this[n]((function(n){return e.apply(Xa(n)?n:[],t)}))}})),br(Hn.prototype,(function(t,e){var n=Yn[e];if(n){var r=n.name+"";Lt.call(In,r)||(In[r]=[]),In[r].push({name:e,func:n})}})),In[Yi(n,2).name]=[{name:"wrapper",func:n}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Xa(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=xn(e,t+a);break;case"takeRight":t=wn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=xn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return gi(t,this.__actions__);var p=[];t:for(;u--&&h<d;){for(var v=-1,g=t[c+=e];++v<f;){var m=l[v],y=m.iteratee,_=m.type,w=y(g);if(2==_)g=w;else if(!w){if(1==_)continue t;break t}}p[h++]=g}return p},Yn.prototype.at=ma,Yn.prototype.chain=function(){return va(this)},Yn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Yn.prototype.next=function(){this.__values__===n&&(this.__values__=vs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},Yn.prototype.plant=function(t){for(var e,r=this;r instanceof Wn;){var i=Yo(r);i.__index__=0,i.__values__=n,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e},Yn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:ga,args:[ra],thisArg:n}),new Vn(e,this.__chain__)}return this.thru(ra)},Yn.prototype.toJSON=Yn.prototype.valueOf=Yn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Yn.prototype.first=Yn.prototype.head,ae&&(Yn.prototype[ae]=function(){return this}),Yn}();de?((de.exports=vn)._=vn,he._=vn):fe._=vn}).call(vu)}(gu={exports:{}},gu.exports),gu.exports);const yu=({size:t=16})=>React.createElement("svg",{width:t,height:t,viewBox:"0 0 511.995 511.995"},React.createElement("g",null,React.createElement("g",null,React.createElement("path",{d:"M437.126,74.939c-99.826-99.826-262.307-99.826-362.133,0C26.637,123.314,0,187.617,0,256.005\ns26.637,132.691,74.993,181.047c49.923,49.923,115.495,74.874,181.066,74.874s131.144-24.951,181.066-74.874\nC536.951,337.226,536.951,174.784,437.126,74.939z M409.08,409.006c-84.375,84.375-221.667,84.375-306.042,0\nc-40.858-40.858-63.37-95.204-63.37-153.001s22.512-112.143,63.37-153.021c84.375-84.375,221.667-84.355,306.042,0\nC493.435,187.359,493.435,324.651,409.08,409.006z",fill:"white"}))),React.createElement("g",null,React.createElement("g",null,React.createElement("path",{d:"M341.525,310.827l-56.151-56.071l56.151-56.071c7.735-7.735,7.735-20.29,0.02-28.046\nc-7.755-7.775-20.31-7.755-28.065-0.02l-56.19,56.111l-56.19-56.111c-7.755-7.735-20.31-7.755-28.065,0.02\nc-7.735,7.755-7.735,20.31,0.02,28.046l56.151,56.071l-56.151,56.071c-7.755,7.735-7.755,20.29-0.02,28.046\nc3.868,3.887,8.965,5.811,14.043,5.811s10.155-1.944,14.023-5.792l56.19-56.111l56.19,56.111\nc3.868,3.868,8.945,5.792,14.023,5.792c5.078,0,10.175-1.944,14.043-5.811C349.28,331.117,349.28,318.562,341.525,310.827z",fill:"white"}))));function _u(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function wu(t){var e;return 1===t.length&&(e=t,t=function(t,n){return _u(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}var xu=wu(_u).right;function bu(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var Eu=Math.sqrt(50),Tu=Math.sqrt(10),Au=Math.sqrt(2);function Su(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Eu?10:o>=Tu?5:o>=Au?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Eu?10:o>=Tu?5:o>=Au?2:1)}function ku(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Eu?i*=10:o>=Tu?i*=5:o>=Au&&(i*=2),e<t?-i:i}function Nu(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Mu(t){if(!(i=t.length))return[];for(var e=-1,n=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}(t,Cu),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function Cu(t){return t.length}function Ou(){return Mu(arguments)}class Du{constructor(t,e,n,r,o){i.default(this,"_crosshair",new Jr),i.default(this,"ctx",null),i.default(this,"_data",void 0),i.default(this,"gridline",new ti),i.default(this,"latestPriceCrosshair",new Jr),i.default(this,"latestPricePosition",null),i.default(this,"_pixelRatio",1),i.default(this,"position",[null,null]),i.default(this,"_renderableElements",void 0),i.default(this,"_xScale",void 0),i.default(this,"_yEncodingFields",void 0),i.default(this,"_yScale",void 0),this._xScale=t.copy(),this._yScale=e.copy(),this._renderableElements=n,this._data=r,this._yEncodingFields=o}context(t){return this.ctx=t,this}crosshair(t){return this.position=t,this}data(t){return this._data=t,this}draw(){this.ctx&&(_e(this.ctx.canvas,this.ctx,Re),this.gridline.draw(this.ctx,this._xScale,this._yScale,this._pixelRatio),this._renderableElements[0].draw(this.ctx,this._xScale,this._yScale,this._pixelRatio),this._renderableElements.forEach((t=>{this.ctx&&t.draw(this.ctx,this._xScale,this._yScale,this._pixelRatio)})),this.latestPriceCrosshair.draw(this.ctx,this._xScale,this._yScale,this._pixelRatio,[null,this.latestPricePosition]),this._crosshair.draw(this.ctx,this._xScale,this._yScale,this._pixelRatio,this.position))}extent(t){const e=bu(t?this._data.filter((e=>e.date>=t[0]&&e.date<=t[1])).flatMap((t=>{var e;return null===(e=this._yEncodingFields)||void 0===e?void 0:e.map((e=>t[e]))})):this._data.flatMap((t=>{var e;return null===(e=this._yEncodingFields)||void 0===e?void 0:e.map((e=>t[e]))}))),n=Math.abs(e[1]-e[0]);return[e[0]-.1*n,e[1]+.2*n]}getIndex(t){const e=this._xScale.invert(t),n=wu((t=>t.date)).left(this._data,e),r=this._data[Math.max(0,n-1)].date,i=this._data[Math.min(this._data.length-1,n)].date;let o=0;if(r&&i){o=function(t,e){l(2,arguments);var n=f(t);if(isNaN(n))return NaN;var r,i,o=n.getTime();return(null==e?[]:"function"==typeof e.forEach?e:Array.prototype.slice.call(e)).forEach((function(t,e){var n=f(t);if(isNaN(n))return r=NaN,void(i=NaN);var a=Math.abs(o-n.getTime());(null==r||a<i)&&(r=e,i=a)})),r}(e,[r,i])}else o=r?0:1;const a=mu.clamp(n+o-1,0,this._data.length-1);return[a,this._data[a].date]}pixelRatio(t){return this._pixelRatio=t,this}latestPrice(t){return this.latestPricePosition=t,this}renderableElements(t){return this._renderableElements=t,this}xScale(t){return this._xScale=t.copy(),this}yEncodingFields(t){return this._yEncodingFields=t,this}yScale(t){return this._yScale=t.copy(),this}}function Iu(t){t.stopImmediatePropagation()}function Ru(t){t.preventDefault(),t.stopImmediatePropagation()}function Pu(t){var e=t.document.documentElement,n=Po(t).on("dragstart.drag",Ru,!0);"onselectstart"in e?n.on("selectstart.drag",Ru,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Lu(t,e){var n=t.document.documentElement,r=Po(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ru,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var zu=t=>()=>t;function Fu(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}function Uu(t){return!t.ctrlKey&&!t.button}function ju(){return this.parentNode}function Bu(t,e){return null==e?{x:t.x,y:t.y}:e}function Yu(){return navigator.maxTouchPoints||"ontouchstart"in this}function qu(){var t,e,n,r,i=Uu,o=ju,a=Bu,s=Yu,u={},c=Uo("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(a,s){if(!r&&i.call(this,a,s)){var u=_(this,o.call(this,a,s),a,s,"mouse");u&&(Po(a.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),Pu(a.view),Iu(a),n=!1,t=a.clientX,e=a.clientY,u("start",a))}}function p(r){if(Ru(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>f}u.mouse("drag",r)}function v(t){Po(t.view).on("mousemove.drag mouseup.drag",null),Lu(t.view,n),Ru(t),u.mouse("end",t)}function g(t,e){if(i.call(this,t,e)){var n,r,a=t.changedTouches,s=o.call(this,t,e),u=a.length;for(n=0;n<u;++n)(r=_(this,s,t,e,a[n].identifier,a[n]))&&(Iu(t),r("start",t,a[n]))}}function m(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=u[r[e].identifier])&&(Ru(t),n("drag",t,r[e]))}function y(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=u[i[e].identifier])&&(Iu(t),n("end",t,i[e]))}function _(t,e,n,r,i,o){var s,f,d,p=c.copy(),v=zo(o||n,e);if(null!=(d=a.call(t,new Fu("beforestart",{sourceEvent:n,target:h,identifier:i,active:l,x:v[0],y:v[1],dx:0,dy:0,dispatch:p}),r)))return s=d.x-v[0]||0,f=d.y-v[1]||0,function n(o,a,c){var g,m=v;switch(o){case"start":u[i]=n,g=l++;break;case"end":delete u[i],--l;case"drag":v=zo(c||a,e),g=l}p.call(o,t,new Fu(o,{sourceEvent:a,subject:d,target:h,identifier:i,active:g,x:v[0]+s,y:v[1]+f,dx:v[0]-m[0],dy:v[1]-m[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:zu(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:zu(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:zu(t),h):a},h.touchable=function(t){return arguments.length?(s="function"==typeof t?t:zu(!!t),h):s},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}Fu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Wu=t=>()=>t;function Vu(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Hu(t,e,n){this.k=t,this.x=e,this.y=n}Hu.prototype={constructor:Hu,scale:function(t){return 1===t?this:new Hu(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Hu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xu=new Hu(1,0,0);function Gu(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Xu;return t.__zoom}function $u(t){t.stopImmediatePropagation()}function Ku(t){t.preventDefault(),t.stopImmediatePropagation()}function Zu(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Qu(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Ju(){return this.__zoom||Xu}function tc(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ec(){return navigator.maxTouchPoints||"ontouchstart"in this}function nc(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function rc(){var t,e,n,r=Zu,i=Qu,o=nc,a=tc,s=ec,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,f=ds,h=Uo("start","zoom","end"),d=500,p=0,v=10;function g(t){t.property("__zoom",Ju).on("wheel.zoom",E).on("mousedown.zoom",T).on("dblclick.zoom",A).filter(s).on("touchstart.zoom",S).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new Hu(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Hu(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,e,n,r){t.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=x(t,o).event(r),s=i.apply(t,o),u=null==n?_(s):"function"==typeof n?n.apply(t,o):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=t.__zoom,h="function"==typeof e?e.apply(t,o):e,d=f(l.invert(u).concat(c/l.k),h.invert(u).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=c/e[2];t=new Hu(n,u[0]-e[0]*n,u[1]-e[1]*n)}a.zoom(null,t)}}))}function x(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function E(t,...e){if(r.apply(this,arguments)){var n=x(this,e).event(t),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,a.apply(this,arguments)))),l=zo(t);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=i.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[l,i.invert(l)],pa(this),n.start()}Ku(t),n.wheel=setTimeout(f,150),n.zoom("mouse",o(y(m(i,s),n.mouse[0],n.mouse[1]),n.extent,c))}function f(){n.wheel=null,n.end()}}function T(t,...e){if(!n&&r.apply(this,arguments)){var i=x(this,e,!0).event(t),a=Po(t.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",d,!0),s=zo(t,u),u=t.currentTarget,l=t.clientX,f=t.clientY;Pu(t.view),$u(t),i.mouse=[s,this.__zoom.invert(s)],pa(this),i.start()}function h(t){if(Ku(t),!i.moved){var e=t.clientX-l,n=t.clientY-f;i.moved=e*e+n*n>p}i.event(t).zoom("mouse",o(y(i.that.__zoom,i.mouse[0]=zo(t,u),i.mouse[1]),i.extent,c))}function d(t){a.on("mousemove.zoom mouseup.zoom",null),Lu(t.view,i.moved),Ku(t),i.event(t).end()}}function A(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=zo(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),u=n.k*(t.shiftKey?.5:2),f=o(y(m(n,u),a,s),i.apply(this,e),c);Ku(t),l>0?Po(this).transition().duration(l).call(w,f,a,t):Po(this).call(g.transform,f,a,t)}}function S(n,...i){if(r.apply(this,arguments)){var o,a,s,u,c=n.touches,l=c.length,f=x(this,i,n.changedTouches.length===l).event(n);for($u(n),a=0;a<l;++a)u=[u=zo(s=c[a],this),this.__zoom.invert(u),s.identifier],f.touch0?f.touch1||f.touch0[2]===u[2]||(f.touch1=u,f.taps=0):(f.touch0=u,o=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(f.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),d)),pa(this),f.start())}}function k(t,...e){if(this.__zooming){var n,r,i,a,s=x(this,e).event(t),u=t.changedTouches,l=u.length;for(Ku(t),n=0;n<l;++n)i=zo(r=u[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var f=s.touch0[0],h=s.touch0[1],d=s.touch1[0],p=s.touch1[1],v=(v=d[0]-f[0])*v+(v=d[1]-f[1])*v,g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g;r=m(r,Math.sqrt(v/g)),i=[(f[0]+d[0])/2,(f[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(y(r,i,a),s.extent,c))}}function N(t,...r){if(this.__zooming){var i,o,a=x(this,r).event(t),s=t.changedTouches,u=s.length;for($u(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),i=0;i<u;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=zo(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<v)){var c=Po(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",Ju),t!==i?w(t,e,n,r):i.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,r){g.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?_(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),u="function"==typeof e?e.apply(this,arguments):e;return o(y(m(r,u),a,s),t,c)}),n,r)},g.translateBy=function(t,e,n,r){g.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},g.translateTo=function(t,e,n,r,a){g.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?_(t):"function"==typeof r?r.apply(this,arguments):r;return o(Xu.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,a)},b.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Po(this.that).datum();h.call(t,this.that,new Vu(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:h}),e)}},g.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:Wu(+t),g):a},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:Wu(!!t),g):r},g.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Wu(!!t),g):s},g.extent=function(t){return arguments.length?(i="function"==typeof t?t:Wu([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],g):[u[0],u[1]]},g.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(t){return arguments.length?(o=t,g):o},g.duration=function(t){return arguments.length?(l=+t,g):l},g.interpolate=function(t){return arguments.length?(f=t,g):f},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,g):Math.sqrt(p)},g.tapDistance=function(t){return arguments.length?(v=+t,g):v},g}function ic(t,e,n,r,i,o,a,s,u,c){t[s].call(e[s].scaleBy,1-n.dy/(r[s].range()[0]-r[s].range()[1]),[0,(r[s].range()[0]-r[s].range()[1])/2]);const l=i[s]().rescaleY(r[s]);o[s].yScale(l),a[s].yScale(l),u(!0),c()}function oc(t,e,n,r,i,o,a){const{width:s,pixelRatio:u}=t.detail,c=s/u/(e.range()[1]-e.range()[0]);if(1!==c){const t=e.domain()[1].getTime()-e.domain()[0].getTime(),n=e.domain()[1].getTime()-c*t,r=e.domain()[1].getTime();e.domain([new Date(n),new Date(r)]),a([new Date(n),new Date(r)])}e.range([0,s/u]);const l=n().rescaleX(e);r.xScale(l),Object.values(i).forEach((t=>t.xScale(l))),Object.values(o).forEach((t=>t.xScale(l)))}function ac(t,e){var n;const r=null===(n=Po(t.currentTarget).select("canvas").node())||void 0===n?void 0:n.getContext("2d");if(r){const n=t.detail.pixelRatio;null==r||r.scale(n,n),e.context(r).pixelRatio(n).draw()}}function sc(t,e,n,r,i,o){const[a,s]=t[i].getIndex(e[0]);Object.values(t).forEach((t=>{t.crosshair([s,e[1]])})),n.crosshair(s),r[i].crosshair(e[1]),o()}function uc(t,e,n){Object.values(t).forEach((t=>{t.crosshair([null,null])})),Object.values(e).forEach((t=>{t.crosshair(null)})),n.crosshair(null)}function cc(t,e,n,r,i,o,a,s){const{height:u,pixelRatio:c}=t.detail;e.range([u/c,0]);const l=n().rescaleY(e);r.yScale(l),i.yScale(l),o||s(a)}function lc(t,e,n){e[n].draw(Po(t.currentTarget).select("svg"))}function fc(t,e,n){var r;const i=null===(r=Po(t.currentTarget).select("canvas").node())||void 0===r?void 0:r.getContext("2d");if(i){const r=t.detail.pixelRatio;i.scale(r,r),e[n].context(i).pixelRatio(r).draw()}}function hc(t,e,n){var r;const i=null===(r=Po(t.currentTarget).select("canvas").node())||void 0===r?void 0:r.getContext("2d");if(i){const r=t.detail.pixelRatio;i.scale(r,r),e[n].context(i).pixelRatio(r).draw()}}function dc(t,e,n,r,i){Object.values(t).forEach((t=>t.crosshair([null,null]))),e.crosshair(null),Object.values(n).forEach((t=>{t.crosshair(null)})),r(),i()}function pc(t,e,n,r,i,o,a,s,u){const[c,l]=t[a].getIndex(e[0]);Object.values(t).forEach((t=>t.crosshair([l,null]))),Object.values(i).forEach((t=>{t.crosshair(null)})),o.crosshair(l),t[a].crosshair([l,r.invert(e[1])]),i[a].crosshair(r.invert(e[1])),s(c,a),u()}function vc(t,e,n,r,i,o,a,s){const u=t().rescaleX(e).domain(),c=n[r].range(),l=i[r].extent(u),f=Math.abs(c[0]-c[1]),h=Math.abs(n[r](l[1])-n[r](l[0]));o[r].call(a[r].transform,Xu.translate(0,f/2).scale(f/h).translate(0,-(n[r](l[0])+n[r](l[1]))/2))}Gu.prototype=Hu.prototype;class gc{constructor(t,e){i.default(this,"listeners",Uo("zoom","zoomstart","zoomend","dblclick","mousemove","mouseout")),i.default(this,"_xScale",void 0),i.default(this,"_yScale",void 0),i.default(this,"z",Xu),i.default(this,"zoom",void 0),i.default(this,"xScale",(t=>(this._xScale=t.copy(),this))),i.default(this,"yScale",(t=>(this._yScale=t.copy(),this))),this._xScale=t.copy(),this._yScale=e.copy(),this.zoom=rc().filter((t=>"dblclick"!==t.type||(this.listeners.call("dblclick",this,t),!1))).on("zoom",(t=>{const e=t.transform,n=e.k/this.z.k,r=this.center(t);this.listeners.call("zoom",this,t,{x:e.x-this.z.x,y:e.y-this.z.y,k:n},r),this.z=e})).on("start",(()=>{this.listeners.call("zoomstart",this)})).on("end",(t=>{this.listeners.call("zoomend",this,[t.sourceEvent.offsetX,t.sourceEvent.offsetY])}))}center(t){if(t.sourceEvent){const r=((e=t).target&&(e=Lo(e),void 0===n&&(n=e.currentTarget),e=e.touches||[e]),Array.from(e,(t=>zo(t,n))));return[Nu(r,(t=>t[0])),Nu(r,(t=>t[1]))]}var e,n;return[(this._xScale.range()[1]-this._xScale.range()[0])/2,(this._yScale.range()[0]-this._yScale.range()[1])/2]}draw(t){t.call(this.zoom),t.on("mousemove",(t=>this.listeners.call("mousemove",this,[t.offsetX,t.offsetY]))).on("mouseout",(()=>this.listeners.call("mouseout",this)))}on(t,e){return this.listeners.on(t,e),this}}function mc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function yc(t){return+t}var _c=[0,1];function wc(t){return t}function xc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function bc(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=xc(i,r),o=n(a,o)):(r=xc(r,i),o=n(o,a)),function(t){return o(r(t))}}function Ec(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=xc(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=xu(t,e,1,r)-1;return o[n](i[n](e))}}function Tc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ac(){var t,e,n,r,i,o,a=_c,s=_c,u=rs,c=wc;function l(){var t,e,n,u=Math.min(a.length,s.length);return c!==wc&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?Ec:bc,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),Qa)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,yc),l()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),u=is,l()},f.clamp=function(t){return arguments.length?(c=!!t||wc,l()):c!==wc},f.interpolate=function(t){return arguments.length?(u=t,l()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function Sc(){return Ac()(wc,wc)}function kc(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nc(t){return(t=kc(Math.abs(t)))?t[1]:NaN}var Mc,Cc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oc(t){if(!(e=Cc.exec(t)))throw new Error("invalid format: "+t);var e;return new Dc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Dc(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ic(t,e){var n=kc(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Oc.prototype=Dc.prototype,Dc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Rc={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ic(100*t,e),r:Ic,s:function(t,e){var n=kc(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Mc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+kc(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pc(t){return t}var Lc,zc,Fc,Uc=Array.prototype.map,jc=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bc(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Pc:(e=Uc.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Pc:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Uc.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Oc(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(v=!0,y="g"):Rc[y]||(void 0===g&&(g=12),m=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?u:"",x=Rc[y],b=/[defgprs%]/.test(y);function E(t){var i,o,u,h=_,E=w;if("c"===y)E=x(t)+E,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),T&&0==+t&&"+"!==f&&(T=!1),h=(T?"("===f?f:c:"-"===f||"("===f?"":f)+h,E=("s"===y?jc[8+Mc/3]:"")+E+(T&&"("===f?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){E=(46===u?a+t.slice(i+1):t.slice(i))+E,t=t.slice(0,i);break}}v&&!d&&(t=r(t,1/0));var A=h.length+t.length+E.length,S=A<p?new Array(p-A+1).join(e):"";switch(v&&d&&(t=r(S+t,S.length?p-E.length:1/0),S=""),n){case"<":t=h+t+E+S;break;case"=":t=h+S+t+E;break;case"^":t=S.slice(0,A=S.length>>1)+h+t+E+S.slice(A);break;default:t=S+h+t+E}return s(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return t+""},E}return{format:f,formatPrefix:function(t,e){var n=f(((t=Oc(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Nc(e)/3))),i=Math.pow(10,-r),o=jc[8+r/3];return function(t){return n(i*t)+o}}}}function Yc(t,e,n,r){var i,o=ku(t,e,n);switch((r=Oc(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nc(e)/3)))-Nc(Math.abs(t)))}(o,a))||(r.precision=i),Fc(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nc(e)-Nc(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Nc(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return zc(r)}function qc(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Su(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Yc(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;for(c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);l-- >0;){if((i=Su(u,c,n))===r)return o[a]=u,o[s]=c,e(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Wc(){var t=Sc();return t.copy=function(){return Tc(t,Wc())},mc.apply(t,arguments),qc(t)}!function(t){Lc=Bc(t),zc=Lc.format,Fc=Lc.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});function Vc(t){return new Date(t)}function Hc(t){return t instanceof Date?+t:+new Date(+t)}function Xc(t,e,n,r,i,o,a,s,u){var c=Sc(),l=c.invert,f=c.domain,h=u(".%L"),d=u(":%S"),p=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),m=u("%b %d"),y=u("%B"),_=u("%Y"),w=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function x(s){return(a(s)<s?h:o(s)<s?d:i(s)<s?p:r(s)<s?v:e(s)<s?n(s)<s?g:m:t(s)<s?y:_)(s)}function b(e,n,r){if(null==e&&(e=10),"number"==typeof e){var i,o=Math.abs(r-n)/e,a=wu((function(t){return t[2]})).right(w,o);return a===w.length?(i=ku(n/31536e6,r/31536e6,e),e=t):a?(i=(a=w[o/w[a-1][2]<w[a][2]/o?a-1:a])[1],e=a[0]):(i=Math.max(ku(n,r,e),1),e=s),e.every(i)}return e}return c.invert=function(t){return new Date(l(t))},c.domain=function(t){return arguments.length?f(Array.from(t,Hc)):f().map(Vc)},c.ticks=function(t){var e,n=f(),r=n[0],i=n[n.length-1],o=i<r;return o&&(e=r,r=i,i=e),e=(e=b(t,r,i))?e.range(r,i+1):[],o?e.reverse():e},c.tickFormat=function(t,e){return null==e?x:u(e)},c.nice=function(t){var e=f();return(t=b(t,e[0],e[e.length-1]))?f(function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}(e,t)):c},c.copy=function(){return Tc(c,Xc(t,e,n,r,i,o,a,s,u))},c}class Gc{constructor(t){i.default(this,"axis",new ii),i.default(this,"ctx",null),i.default(this,"_pixelRatio",1),i.default(this,"position",null),i.default(this,"tooltip",new ri),i.default(this,"_xScale",void 0),this._xScale=t.copy()}context(t){return this.ctx=t,this}crosshair(t){return this.position=t,this}draw(){this.ctx&&(_e(this.ctx.canvas,this.ctx,Re),this.axis.draw(this.ctx,this._xScale,null,this._pixelRatio),this.tooltip.draw(this.ctx,this._xScale,null,this._pixelRatio,this.position))}pixelRatio(t){return this._pixelRatio=t,this}xScale(t){return this._xScale=t.copy(),this}}class $c{constructor(){i.default(this,"drag",qu().on("drag",(t=>{this.listeners.call("drag",this,t)}))),i.default(this,"listeners",Uo("dblclick","drag"))}draw(t){t.call(this.drag).on("dblclick",(()=>{this.listeners.call("dblclick")}))}on(t,e){return this.listeners.on(t,e),this}}class Kc{constructor(t,e,n=5){i.default(this,"axis",new si),i.default(this,"ctx",null),i.default(this,"latestPricePosition",null),i.default(this,"_pixelRatio",1),i.default(this,"position",null),i.default(this,"tooltip",void 0),i.default(this,"latestPriceTooltip",void 0),i.default(this,"_xScale",void 0),i.default(this,"_yScale",void 0),this._xScale=t.copy(),this._yScale=e.copy(),this.tooltip=new ai(n),this.latestPriceTooltip=new ai(n)}context(t){return this.ctx=t,this}crosshair(t){return this.position=t,this}draw(){this.ctx&&(this.axis.draw(this.ctx,this._xScale,this._yScale,this._pixelRatio),this.latestPriceTooltip.draw(this.ctx,this._xScale,this._yScale,this._pixelRatio,this.latestPricePosition),this.tooltip.draw(this.ctx,this._xScale,this._yScale,this._pixelRatio,this.position))}latestPrice(t){return this.latestPricePosition=t,this}pixelRatio(t){return this._pixelRatio=t,this}xScale(t){return this._xScale=t.copy(),this}yScale(t){return this._yScale=t.copy(),this}}class Zc{constructor(){i.default(this,"drag",qu().on("drag",(t=>{this.listeners.call("drag",this,t)}))),i.default(this,"listeners",Uo("dblclick","drag"))}draw(t){t.call(this.drag).on("dblclick",(()=>{this.listeners.call("dblclick")}))}on(t,e){return this.listeners.on(t,e),this}}class Qc{constructor(t,e,n,r=5){i.default(this,"listeners",Uo("bounds_changed","click","contextmenu","dblclick","drag","dragend","dragstart","fetch_data","mousemove","mouseout","mouseover","redraw","rightclick","viewport_changed")),i.default(this,"_interval",6e4),i.default(this,"_decimalPlaces",5),i.default(this,"isPinned",!0),i.default(this,"isFreePan",!1),i.default(this,"dates",void 0),i.default(this,"xAxis",void 0),i.default(this,"xAxisInteraction",void 0),i.default(this,"xElement",void 0),i.default(this,"xScale",void 0),i.default(this,"xTransform",void 0),i.default(this,"xZoom",void 0),i.default(this,"yAxes",void 0),i.default(this,"yAxisInteractions",void 0),i.default(this,"yElements",void 0),i.default(this,"yScales",void 0),i.default(this,"yTransforms",void 0),i.default(this,"yZooms",void 0),i.default(this,"plotAreas",void 0),i.default(this,"plotAreaInteractions",void 0),i.default(this,"plotAreaElements",void 0),this._decimalPlaces=r,this.dates=e.data,this.xScale=function(){return mc.apply(Xc($e,Ge,Ve,qe,Ye,Be,je,Ue,ln).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),this.xZoom=rc(),this.xElement=Po(e.ref.current).select(".x-axis").style("pointer-events","none"),this.xAxis=new Gc(this.xScale),this.xAxisInteraction=(new $c).on("drag",(t=>{!function(t,e,n,r,i,o,a,s,u,c,l){t.call(e.scaleBy,1-n.dx/(r.range()[1]-r.range()[0]),[i?r.range()[1]-92:(r.range()[1]-r.range()[0])/2,0]);const f=o().rescaleX(r);a.xScale(f),Object.values(s).forEach((t=>t.xScale(f))),Object.values(u).forEach((t=>t.xScale(f))),c(f.domain()),l()}(this.xElement,this.xZoom,t,this.xScale,this.isPinned,this.xTransform,this.xAxis,this.plotAreas,this.yAxes,(t=>this.listeners.call("bounds_changed",this,t)),(()=>this.listeners.call("redraw")))})).on("dblclick",(()=>{this.resetXAxis(),this.isPinned=!0,this.listeners.call("redraw")})),this.xTransform=()=>Gu(this.xElement.node()),this.yScales=Object.fromEntries(Object.keys(t).map((t=>[t,Wc()]))),this.yAxes=Object.fromEntries(Object.entries(this.yScales).map((([t,e])=>[t,new Kc(this.xScale,e,this._decimalPlaces)]))),this.yAxisInteractions=Object.fromEntries(Object.entries(t).map((([t,e])=>[t,(new Zc).on("drag",(e=>{ic(this.yElements,this.yZooms,e,this.yScales,this.yTransforms,this.plotAreas,this.yAxes,t,(t=>{this.isFreePan=t}),(()=>this.listeners.call("redraw")))})).on("dblclick",(()=>{this.resetYAxis(t),this.isFreePan=!1,this.listeners.call("redraw")}))]))),this.yElements=Object.fromEntries(Object.entries(t).map((([t,e])=>[t,Po(e.ref.current).select(".y-axis").style("pointer-events","none")]))),this.plotAreas=Object.fromEntries(Object.entries(t).map((([t,e])=>[e.id,new Du(this.xScale,this.yScales[t],e.renderableElements.flat(1),e.data,e.yEncodingFields)]))),this.plotAreaInteractions=Object.fromEntries(Object.entries(t).map((([t,e])=>[e.id,new gc(this.xScale,this.yScales[t]).on("zoom",((t,n,r)=>{this.zoomed(n,r,e.id)})).on("zoomstart",(()=>{uc(this.plotAreas,this.yAxes,this.xAxis)})).on("zoomend",(t=>{sc(this.plotAreas,t,this.xAxis,this.yAxes,e.id,(()=>this.listeners.call("redraw")))})).on("dblclick",(()=>{this.reset(),this.listeners.call("dblclick",this)})).on("mousemove",(n=>{pc(this.plotAreas,n,this.xScale,this.yScales[t],this.yAxes,this.xAxis,e.id,((t,e)=>this.listeners.call("mousemove",this,t,e)),(()=>this.listeners.call("redraw")))})).on("mouseout",(()=>{dc(this.plotAreas,this.xAxis,this.yAxes,(()=>this.listeners.call("redraw")),(()=>this.listeners.call("mouseout",this)))}))]))),this.plotAreaElements=Object.fromEntries(Object.entries(t).map((([t,e])=>[t,Po(e.ref.current).select(".plot-area").style("pointer-events","none")]))),this.yTransforms=Object.fromEntries(Object.entries(this.yElements).map((([t,e])=>[t,()=>Gu(e.node())]))),Object.entries(this.yScales).forEach((([t,e])=>{e.domain(this.plotAreas[t].extent())})),this.yZooms=Object.fromEntries(Object.keys(t).map((t=>[t,rc()]))),this.xElement.call(this.xZoom),Object.entries(this.plotAreaElements).forEach((([t,e])=>e.call(this.yZooms[t]))),Po(e.ref.current).select(".x-axis").on("measure",(t=>{oc(t,this.xScale,this.xTransform,this.xAxis,this.yAxes,this.plotAreas,(t=>{this.listeners.call("bounds_changed",this,t)}))})).on("draw",(t=>{ac(t,this.xAxis)})),Po(e.ref.current).select(".x-axis-interaction").on("draw",(t=>{this.xAxisInteraction.draw(Po(t.currentTarget).select("svg"))})),Object.entries(this.yScales).map((([e,n])=>Po(t[e].ref.current).select(".y-axis").on("measure",(t=>{cc(t,n,this.yTransforms[e],this.plotAreas[e],this.yAxes[e],this.isFreePan,e,this.resetYAxis.bind(this))})).on("draw",(t=>{hc(t,this.yAxes,e)})))),Object.entries(t).forEach((([t,e])=>Po(e.ref.current).select(".y-axis-interaction").on("draw",(e=>{this.yAxisInteractions[t].draw(Po(e.currentTarget).select("svg"))})))),Object.entries(t).forEach((([t,e])=>{Po(e.ref.current).select(".plot-area").on("draw",(e=>{fc(e,this.plotAreas,t)}))})),Object.entries(t).forEach((([t,e])=>{Po(e.ref.current).select(".plot-area-interaction").on("draw",(e=>{lc(e,this.plotAreaInteractions,t)}))}));const o=t.main.data[t.main.data.length-1].close;this.yAxes.main.latestPrice(o),this.plotAreas.main.latestPrice(o)}draw(){this.listeners.call("redraw")}interval(t){return this._interval=t,this.initialize(),this}on(t,e){return this.listeners.on(t,e),this}panBy(t){const e=this.xTransform().rescaleX(this.xScale);this.xElement.call(this.xZoom.translateBy,-(this.xScale(t*this._interval)-this.xScale(0)),0),this.xAxis.xScale(e),Object.entries(this.plotAreas).forEach((([t,n])=>{n.xScale(e),this.isFreePan||vc(this.xTransform,this.xScale,this.yScales,t,this.plotAreas,this.yElements,this.yZooms,this.yTransforms)})),this.isPinned=!1,this.listeners.call("redraw"),this.listeners.call("bounds_changed",this,e.domain())}initialize(t){let e=t;t||(e={date:this.dates[this.dates.length-1],intervalWidth:10}),this.resetXAxis(),Object.keys(this.yAxes).map((t=>{this.resetYAxis(t)})),this.isPinned=!0,this.isFreePan=!1,this.listeners.call("redraw"),this.listeners.call("bounds_changed",this,this.xTransform().rescaleX(this.xScale).domain())}reset(){this.resetXAxis(),Object.keys(this.yAxes).map((t=>{this.resetYAxis(t)})),this.isPinned=!0,this.isFreePan=!1,this.listeners.call("redraw")}pinXAxis(){const t=this.xTransform().rescaleX(this.xScale),e=this.dates[this.dates.length-1],n=t.invert(t.range()[1]-92-30);if(1===function(t,e){l(2,arguments);var n=f(t),r=f(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}(e,n)){const t=this.xScale(e)-this.xScale(n);this.xElement.call(this.xZoom.translateBy,-t,0)}}resetXAxis(){const t=this.dates[this.dates.length-1],e=(this.xScale.range()[1]-this.xScale.range()[0])/(this.xScale.range()[1]-92-30-this.xScale.range()[0]),n=new Date(t.getTime()-Math.abs(this.xScale.range()[1]-this.xScale.range()[0]-92-30)/10*this._interval),r=[n,new Date(t.getTime()+(t.getTime()-n.getTime())*(e-1))];this.xScale.domain(r),this.xElement.call(this.xZoom.transform,Xu)}resetYAxis(t){const e=this.plotAreas[t].extent(this.xTransform().rescaleX(this.xScale).domain());this.yScales[t].domain(e),this.yElements[t].call(this.yZooms[t].transform,Xu)}update(t,e){const n=Object.keys(this.plotAreas),r=Object.keys(t),i=mu.difference(r,n),o=mu.intersection(r,n);for(const a of mu.union(n,r))if(o.includes(a))this.plotAreas[a].data(t[a].data).renderableElements(t[a].renderableElements).yEncodingFields(t[a].yEncodingFields);else if(i.includes(a)){this.yScales[a]=Wc(),this.yElements[a]=Po(t[a].ref.current).select(".y-axis").style("pointer-events","none"),this.yAxes[a]=new Kc(this.xTransform().rescaleX(this.xScale),this.yScales[a],this._decimalPlaces),this.yAxisInteractions[a]=(new Zc).on("drag",(t=>{ic(this.yElements,this.yZooms,t,this.yScales,this.yTransforms,this.plotAreas,this.yAxes,a,(t=>{this.isFreePan=t}),(()=>this.listeners.call("redraw")))})).on("dblclick",(()=>{this.resetYAxis(a),this.isFreePan=!1,this.listeners.call("redraw")})),this.plotAreas[a]=new Du(this.xTransform().rescaleX(this.xScale),this.yScales[a],t[a].renderableElements,t[a].data,t[a].yEncodingFields),this.plotAreaInteractions[a]=new gc(this.xTransform().rescaleX(this.xScale),this.yScales[a]).on("zoom",((t,e,n)=>{this.zoomed(e,n,a)})).on("zoomstart",(()=>{uc(this.plotAreas,this.yAxes,this.xAxis)})).on("zoomend",(t=>{sc(this.plotAreas,t,this.xAxis,this.yAxes,a,(()=>this.listeners.call("redraw")))})).on("dblclick",(()=>{this.reset(),this.listeners.call("dblclick",this)})).on("mousemove",(t=>{pc(this.plotAreas,t,this.xScale,this.yScales[a],this.yAxes,this.xAxis,a,((t,e)=>this.listeners.call("mousemove",this,t,e)),(()=>this.listeners.call("redraw")))})).on("mouseout",(()=>{dc(this.plotAreas,this.xAxis,this.yAxes,(()=>this.listeners.call("mouseout",this)),(()=>this.listeners.call("redraw")))}));const n=this.xTransform().rescaleX(this.xScale).domain(),r=this.plotAreas[a].extent(n);this.yZooms[a]=rc(),this.plotAreaElements[a]=Po(t[a].ref.current),this.yTransforms[a]=()=>Gu(this.yElements[a].node()),this.yScales[a].domain(r),this.yScales[a].range(),Po(e.ref.current).select(".x-axis").on("measure",(t=>{oc(t,this.xScale,this.xTransform,this.xAxis,this.yAxes,this.plotAreas,(t=>{this.listeners.call("bounds_changed",this,t)}))})).on("draw",(t=>{ac(t,this.xAxis)})),Po(t[a].ref.current).select(".y-axis").on("measure",(t=>{cc(t,this.yScales[a],this.yTransforms[a],this.plotAreas[a],this.yAxes[a],this.isFreePan,a,this.resetYAxis.bind(this))})).on("draw",(t=>{hc(t,this.yAxes,a)})),Po(t[a].ref.current).select(".y-axis-interaction").on("draw",(t=>{this.yAxisInteractions[a].draw(Po(t.currentTarget).select("svg"))})),Po(t[a].ref.current).select(".plot-area").on("draw",(t=>{fc(t,this.plotAreas,a)})),Po(t[a].ref.current).select(".plot-area-interaction").on("draw",(t=>{lc(t,this.plotAreaInteractions,a)})),this.resetYAxis(a)}else this.yScales=mu.omit(this.yScales,a),this.yAxes=mu.omit(this.yAxes,a),this.yAxisInteractions=mu.omit(this.yAxisInteractions,a),this.yElements=mu.omit(this.yElements,a),this.yTransforms=mu.omit(this.yTransforms,a),this.yZooms=mu.omit(this.yZooms,a),this.plotAreas=mu.omit(this.plotAreas,a),this.plotAreaInteractions=mu.omit(this.plotAreaInteractions,a),this.plotAreaElements=mu.omit(this.plotAreaElements,a);this.dates=e.data;const a=t.main.data[t.main.data.length-1].close;return this.yAxes.main.latestPrice(a),this.plotAreas.main.latestPrice(a),this.isPinned&&this.pinXAxis(),this}zoom(t){const e=this.xTransform().rescaleX(this.xScale);this.xElement.call(this.xZoom.scaleBy,2**t,[this.isPinned?this.xScale.range()[1]-92:(this.xScale.range()[0]+this.xScale.range()[1])/2,0]),this.xAxis.xScale(e),Object.entries(this.plotAreas).forEach((([t,n])=>{n.xScale(e),this.isFreePan||vc(this.xTransform,this.xScale,this.yScales,t,this.plotAreas,this.yElements,this.yZooms,this.yTransforms)})),this.listeners.call("redraw"),this.listeners.call("bounds_changed",this,e.domain())}zoomed(t,e,n){1===t.k?(this.xElement.call(this.xZoom.translateBy,t.x/this.xTransform().k,0),this.isFreePan?this.yElements[n].call(this.yZooms[n].translateBy,0,t.y/this.yTransforms[n]().k):Object.keys(this.plotAreas).forEach((t=>{vc(this.xTransform,this.xScale,this.yScales,t,this.plotAreas,this.yElements,this.yZooms,this.yTransforms)})),this.isPinned=!1):(this.xElement.call(this.xZoom.scaleBy,t.k,this.isPinned?[this.xScale.range()[1]-92-30,0]:e),this.isFreePan||Object.keys(this.plotAreas).forEach((t=>{vc(this.xTransform,this.xScale,this.yScales,t,this.plotAreas,this.yElements,this.yZooms,this.yTransforms)})));const r=this.xTransform().rescaleX(this.xScale),i=this.yTransforms[n]().rescaleY(this.yScales[n]);this.xAxis.xScale(r),Object.values(this.plotAreas).forEach((t=>t.xScale(r))),this.plotAreas[n].yScale(i),this.yAxes[n].yScale(i);const o=r.domain(),a=o[1].getTime()-o[0].getTime();if(this.dates[0].getTime()+a>o[0].getTime()){const t=this.dates[0],e=new Date(this.dates[0].getTime()-a);this.listeners.call("fetch_data",this,e,t)}this.listeners.call("redraw"),this.listeners.call("bounds_changed",this,r.domain())}zoomIn(t){this.zoom(t)}zoomOut(t){this.zoom(-t)}}const Jc={main:{label:"Candle",fields:[{field:"open",label:"O"},{field:"high",label:"H"},{field:"low",label:"L"},{field:"close",label:"C"}]},eldarRay:{label:"Eldar-ray",fields:[{field:"bullPower",label:"Bull"},{field:"bearPower",label:"Bear"}]},macd:{label:"MACD",fields:[{field:"signal",label:"S"},{field:"divergence",label:"D"},{field:"macd",label:"MACD"}]},volume:{label:"Volume",fields:[{field:"volume",label:"V"}]}},tl=e.forwardRef((({scenegraph:t,interval:n,initialViewport:r,decimalPlaces:i,onViewportChanged:a=(()=>{}),onGetDataRange:s=(()=>{}),onClosePanel:u},c)=>{e.useImperativeHandle(c,(()=>({panBy:t=>{var e;null===(e=T.current)||void 0===e||e.panBy(t)},reset:()=>{var t;null===(t=T.current)||void 0===t||t.reset()},snapshot:async()=>f(),zoomIn:t=>{var e;null===(e=T.current)||void 0===e||e.zoomIn(t)},zoomOut:t=>{var e;null===(e=T.current)||void 0===e||e.zoomOut(t)}}))),o.useCallback(mu.throttle(a,200),[]);const l=o.useCallback(((t,e,n)=>mu.throttle((()=>s(t,e,n)),800)),[s]),f=o.useCallback((()=>async function(t){if(t.current){const e=t.current.getBoundingClientRect(),n=t.current.querySelector(".pane .plot-area canvas"),r=t.current.querySelector(".pane .y-axis canvas"),i=t.current.querySelector(".plot-area:nth-child(3) d3fc-canvas.base canvas"),o=t.current.querySelector(".plot-area:nth-child(3) d3fc-canvas.foreground canvas"),a=t.current.querySelector(".x-axis canvas"),s=window.devicePixelRatio,u=new OffscreenCanvas(s*e.width,s*e.height),c=u.getContext("2d");if(c){c.drawImage(n,0,0),c.drawImage(r,0,0);let t=n.height;return i&&o&&(c.drawImage(i,0,n.height),c.drawImage(o,0,n.height),c.save(),c.beginPath(),c.moveTo(0,n.height+.5),c.lineTo(n.width,n.height+.5),c.strokeStyle="#fff",c.stroke(),c.closePath(),c.restore(),t+=i.height),c.drawImage(a,0,t),c.save(),c.beginPath(),c.moveTo(0,t+.5),c.lineTo(n.width,t+.5),c.strokeStyle="#fff",c.stroke(),c.closePath(),c.restore(),await u.convertToBlob()}return null}return null}(y)),[]),[h,d]=e.useState(null),[p,v]=e.useState(null),[g,m]=e.useState(null),y=e.useRef(null),_=e.useRef(null),w=e.useMemo((()=>mu.throttle(d,100)),[]),x=e.useMemo((()=>mu.throttle(v,100)),[]),b=e.useMemo((()=>mu.throttle(a,100)),[a]),E=e.useMemo((()=>t.panels.map((t=>t.id)).reduce(((t,n)=>(t[n]=e.createRef(),t)),{})),[t.panels]),T=e.useRef(null);return e.useEffect((()=>{var e;T.current=new Qc(Object.fromEntries(t.panels.map((t=>[t.id,{id:String(t.id),ref:E[t.id],data:t.originalData,renderableElements:t.renderableElements.flat(1),yEncodingFields:t.yEncodingFields}]))),{ref:_,data:t.panels[0].originalData.map((t=>t.date))},r,i).interval(6e4*me(n,1)).on("redraw",(()=>{var t;null===(t=y.current)||void 0===t||t.requestRedraw()})).on("bounds_changed",(t=>{w(t)})).on("viewport_changed",(t=>{b(t)})).on("mousemove",((t,e)=>{x(t)})).on("mouseout",(()=>{x(null)})).on("fetch_data",((t,e)=>{l(t,e,n)})),null===(e=y.current)||void 0===e||e.requestRedraw(),requestAnimationFrame((()=>{var t;return null===(t=T.current)||void 0===t?void 0:t.initialize(r)}))}),[]),e.useEffect((()=>{var e;T.current&&(T.current.update(Object.fromEntries(t.panels.map((t=>[t.id,{id:String(t.id),ref:E[t.id],data:t.originalData,renderableElements:t.renderableElements.flat(1),yEncodingFields:t.yEncodingFields}]))),{ref:_,data:t.panels[0].originalData.map((t=>t.date))}),null===(e=y.current)||void 0===e||e.requestRedraw())}),[T,E,t.panels]),e.useEffect((()=>{T.current&&T.current.interval(6e4*me(n,1))}),[n]),o.createElement("d3fc-group",{ref:y,id:"chart",style:{display:"flex",height:"100%",width:"100%",flexDirection:"column"}},t.panels.map(((t,e)=>o.createElement(o.Fragment,{key:t.id},o.createElement("div",{ref:E[t.id],className:"pane",style:{position:"relative",flex:1},onMouseOver:()=>m(t.id),onMouseOut:()=>m(null)},o.createElement("d3fc-canvas",{class:"plot-area","use-device-pixel-ratio":!0,style:{position:"absolute",width:"100%",height:"100%"}}),o.createElement("d3fc-canvas",{class:"y-axis","use-device-pixel-ratio":!0,style:{position:"absolute",width:"100%",height:"100%"}}),o.createElement("d3fc-svg",{class:"plot-area-interaction",style:{position:"absolute",width:"100%",height:"100%",cursor:"crosshair"}}),o.createElement("d3fc-svg",{class:"y-axis-interaction",style:{position:"absolute",right:0,width:"92px",height:"100%",cursor:"ns-resize"}}),"main"!==t.id&&o.createElement("div",{className:"plot-container__close-button-wrapper",style:{right:"92px",opacity:g===t.id?1:0,visibility:g===t.id?"visible":"hidden"}},o.createElement("div",{className:"plot-container__close-button",onClick:()=>{u(t.id)}},o.createElement(yu,{size:16}))),o.createElement("div",{className:"plot-container__info_overlay"},0===e&&h&&o.createElement(du,{bounds:h}),o.createElement(pu,{title:Jc[t.id].label,info:Jc[t.id].fields.map((e=>({id:e.field,label:e.label,value:zr(t.originalData[p??t.originalData.length-1][e.field],i)})))}))),o.createElement("div",{style:{height:"1px",backgroundColor:ke}})))),o.createElement("div",{ref:_,style:{height:"24px",position:"relative"}},o.createElement("d3fc-canvas",{class:"x-axis","use-device-pixel-ratio":!0,style:{position:"absolute",cursor:"ew-resize",width:"100%",height:"100%"}}),o.createElement("d3fc-svg",{class:"x-axis-interaction",style:{position:"absolute",width:"100%",height:"100%",cursor:"ew-resize"}})))}));function el(t){return"vconcat"in t}const nl={area:"area",bar:"bar",line:"line",rule:"rule"};var rl=(t,e,n)=>{const r=e[n];if("function"!=typeof r)throw new Error(`Attempt to rebind ${n} which isn't a function on the source object`);return(...n)=>{var i=r.apply(e,n);return i===e?t:i}},il=(t,e,...n)=>{for(const r of n)t[r]=rl(t,e,r);return t};var ol=(t,e,...n)=>{const r=(t=>e=>t.reduce(((t,e)=>t&&e(t)),e))(n);for(const n of Object.keys(e)){const i=r(n);i&&(t[i]=rl(t,e,n))}return t},al=t=>e=>t[e];function sl(t){return t}function ul(t){}function cl(t){return"function"==typeof t?t:()=>t}function ll(t){return"number"==typeof t&&isNaN(t)?void 0:t}function fl(){let t=()=>10,e=ul,n=sl,r=t=>null!=t;var i=function(i){const o=t.apply(this,arguments),a=i.slice(0,o).map(n);return i.map(((t,i)=>(i>=o&&(a.shift(),a.push(n(t,i))),i<o-1||a.some((t=>!r(t)))?e(void 0,i):e(a,i))))};return i.period=(...e)=>e.length?(t=cl(e[0]),i):t,i.accumulator=(...t)=>t.length?(e=t[0],i):e,i.defined=(...t)=>t.length?(r=t[0],i):r,i.value=(...t)=>t.length?(n=t[0],i):n,i}function hl(){let t=2;const e=fl().accumulator((e=>{const n=e&&function(t,e){const n=function(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,o+=n*(e-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}(t,e);return n?Math.sqrt(n):n}(e),r=e&&Nu(e);return{average:r,upper:ll(r+t*n),lower:ll(r-t*n)}})),n=t=>e(t);return n.multiplier=(...e)=>e.length?(t=e[0],n):t,il(n,e,"period","value"),n}function dl(){let t=sl,e=()=>9;const n=t=>{let e=[];return n=>{let r;return e.length<t&&(null!=n?e.push(n):e=[]),e.length>=t&&(r=Nu(e)),r}},r=function(r){const i=e.apply(this,arguments),o=2/(i+1),a=n(i);let s;return r.map(((e,n)=>{const r=t(e,n);return s=void 0===s?a(r):r*o+(1-o)*s,ll(s)}))};return r.period=(...t)=>t.length?(e=cl(t[0]),r):e,r.value=(...e)=>e.length?(t=e[0],r):t,r}function pl(){let t=sl;const e=dl().period(12),n=dl().period(26),r=dl().period(9),i=i=>{e.value(t),n.value(t);const o=Ou(e(i),n(i)).map((t=>void 0!==t[0]&&void 0!==t[1]?t[0]-t[1]:void 0));return Ou(o,r(o)).map((t=>({macd:t[0],signal:t[1],divergence:void 0!==t[0]&&void 0!==t[1]?t[0]-t[1]:void 0})))};return i.value=(...e)=>e.length?(t=e[0],i):t,ol(i,e,al({period:"fastPeriod"})),ol(i,n,al({period:"slowPeriod"})),ol(i,r,al({period:"signalPeriod"})),i}function vl(){const t=fl().accumulator((t=>t&&Nu(t))),e=e=>t(e);return il(e,t,"period","value"),e}function gl(){let t=.1,e=sl;const n=n=>n.map((n=>({lower:ll(e(n)*(1-t)),upper:ll(e(n)*(1+t))})));return n.factor=(...e)=>e.length?(t=e[0],n):t,n.value=(...t)=>t.length?(e=t[0],n):e,n}function ml(){let t=(t,e)=>t.close,e=(t,e)=>t.high,n=(t,e)=>t.low;const r=dl().period(13),i=i=>(r.value(t),Ou(i,r(i)).map((t=>({bullPower:ll(e(t[0])-t[1]),bearPower:ll(n(t[0])-t[1])}))));return i.closeValue=(...e)=>e.length?(t=e[0],i):t,i.highValue=(...t)=>t.length?(e=t[0],i):e,i.lowValue=(...t)=>t.length?(n=t[0],i):n,il(i,r,"period"),i}class yl{constructor(t){i.default(this,"_children",[]),i.default(this,"_parent",null),t&&(this.parent=t)}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}addChild(t,e){this._children.includes(t)||this._children.push(t)}}class _l extends yl{constructor(t,e){super(t),this.transform=e,this.transform=e}dependentFields(){return new Set([this.transform.on])}producedFields(){return new Set(this.transform.on)}assemble(){const{indicator:t,on:e,...n}=this.transform;return{type:"technical-indicator",method:t,on:e}}}function wl(t,e,n){if(!t)return[0,1];if(n){const t=bu(n.flatMap((t=>e.map((e=>e[t]))))),r=Math.abs(t[1]-t[0]);return[t[0]-.1*r,t[1]+.2*r]}return[0,1]}class xl extends yl{constructor(t){super(null),i.default(this,"_data",void 0),this._data={values:t.values}}dependentFields(){return new Set}producedFields(){return new Set}get data(){return this._data}}function bl(t){return"indicator"in t}function El(t){let e=function(t){return null===t.data?new xl({values:[]}):new xl(t.data)}(t);return t.component.data,t.data,t.transforms.length>0&&(e=function(t,e){for(const n of e.transforms)bl(n)&&(t=new _l(t,n));return t}(e,t)),{...t.component.data,outputNodes:{data:e}}}class Tl{constructor(t,e){this.parent=e,i.default(this,"data",void 0),i.default(this,"transforms",void 0),i.default(this,"component",void 0),i.default(this,"children",[]),this.data=t.data??null,this.transforms=t.transform??[],this.component={data:{outputNodes:e?e.component.data.outputNodes:{}}}}parse(){this.parseData()}parseData(){this.component.data=El(this)}}function Al(t){const e=new Tl(t,null);return e.parse(),e}function Sl(t,e,n,r){var i;let o,a={};var s,u,c,l,f,h;return o="object"==typeof n?n.type:n,"area"===o&&"object"==typeof nl?(a=function(t,e,n,r,i,o){return void 0===r?{points:t.map((t=>[t[e],0,t[n]])),fill:i??Ae,line:o}:{points:t.map((t=>[t[e],t[n],t[r]])),fill:i??Ae,line:o}}(null==t?void 0:t.values,null===(s=e.x)||void 0===s?void 0:s.field,null===(u=e.y)||void 0===u?void 0:u.field,null===(c=e.y2)||void 0===c?void 0:c.field,null==n?void 0:n.color,null==n||null===(l=n.line)||void 0===l?void 0:l.color),[ui("area",a)]):"line"===o?(a=function(t,e,n,r){return{points:t.map((t=>[t[e],t[n]])),color:r}}(null==t?void 0:t.values,null===(f=e.x)||void 0===f?void 0:f.field,null===(h=e.y)||void 0===h?void 0:h.field,null==n?void 0:n.color),[ui("line",a)]):null==t||null===(i=t.values)||void 0===i?void 0:i.map((t=>{let n={};var i,a,s;if("bar"===o)n=function(t,e,n,r,i,o,a){let s=0;return r&&(s=t[r]),{x:t[e],y:Math.max(t[n],s),height:Math.abs(s-t[n]),width:.6*i,fill:o,stroke:a}}(t,null===(i=e.x)||void 0===i?void 0:i.field,null===(a=e.y)||void 0===a?void 0:a.field,null===(s=e.y2)||void 0===s?void 0:s.field,r,ci(e.fill)(t),ci(e.stroke)(t));else if("rule"===o){var u,c,l,f;n=function(t,e,n,r,i,o){return void 0===e?{x:null,x2:null,y:t[r],y2:void 0!==i?t[i]:null,color:o}:void 0===r?{x:t[e],x2:void 0!==n?t[n]:null,y:null,y2:null,color:o}:{x:t[e],x2:void 0!==n?t[n]:null,y:t[r],y2:t[i],color:o}}(t,null===(u=e.x)||void 0===u?void 0:u.field,null===(c=e.x2)||void 0===c?void 0:c.field,null===(l=e.y)||void 0===l?void 0:l.field,null===(f=e.y2)||void 0===f?void 0:f.field,ci(null==e?void 0:e.color)(t))}return ui(o??"bar",n)})).filter((t=>void 0!==t.x))}function kl(t,e,n,r){const i=[];let o=e,a=n;if(null!=t&&t.data&&(o=t.data),null!=t&&t.encoding&&(a={...n,...t.encoding}),null!=t&&t.mark&&i.push(Sl(o,a,t.mark,r)),null!=t&&t.layer)for(const e of t.layer)i.push(...kl(e,o,a,r));return i}function Nl(t,e){const n=bu(Ml(t).flatMap((t=>e.map((e=>e[t]))))),r=Math.abs(n[1]-n[0]);return[n[0]-.1*r,n[1]+.2*r]}function Ml(t){const e=[];var n,r;null!=t&&t.encoding&&(null!==(n=t.encoding.y)&&void 0!==n&&n.field&&e.push(t.encoding.y.field),null!==(r=t.encoding.y2)&&void 0!==r&&r.field&&e.push(t.encoding.y2.field));if(null!=t&&t.layer)for(const n of t.layer)e.push(...Ml(n));return e}const Cl=()=>{},Ol=e.forwardRef((({dataSource:t,interval:n,options:r={chartType:"candle",studies:[],overlays:[]},initialViewport:i,onOptionsChanged:o=Cl,onViewportChanged:s=Cl},u)=>{const{chartType:c="candle",studies:l=[],overlays:f=[]}=r;e.useImperativeHandle(u,(()=>({panBy:t=>{h.current.panBy(t)},reset:()=>{h.current.reset()},snapshot:()=>h.current.snapshot(),zoomIn:t=>{h.current.zoomIn(t)},zoomOut:t=>{h.current.zoomOut(t)}})));const h=e.useRef(null),[d,p]=e.useState([]),[v,g]=e.useState([]),[m,y]=e.useState(null),[_,w]=e.useState(!0),[x,b]=e.useState(n),E=e.useMemo((()=>hi(d,c,f[0],l[0],m)),[c,d,f,m,l]),T=e.useMemo((()=>function(t,e,n,r){var i,o;if(el(t)&&t.vconcat.length>2&&console.warn(`Expected no more than 2 panels. Received ${t.vconcat.length}`),0===(null===(i=t.data)||void 0===i?void 0:i.values.length))return null;const a=(null==t||null===(o=t.data)||void 0===o?void 0:o.values)??[];let s=Al(t).component.data.outputNodes.data,u=[...a];for(;null!==s;){if(s instanceof _l){const t=s.assemble();switch(t.method){case"bollinger":{const e=hl()(a.map((e=>e[t.on])));u=u.map(((t,n)=>({...t,...e[n]})))}break;case"eldarRay":{const t=ml()(a);u=u.map(((e,n)=>({...e,...t[n]})))}break;case"envelope":{const e=gl()(a.map((e=>e[t.on])));u=u.map(((t,n)=>({...t,...e[n]})))}break;case"movingAverage":{const e=vl()(a.map((e=>e[t.on])));u=u.map(((t,n)=>({...t,movingAverage:e[n]})))}break;case"macd":{const e=pl()(a.map((e=>e[t.on])));u=u.map(((t,n)=>({...t,...e[n]})))}}}s=s.parent}return t.data={values:u},{panels:el(t)?t.vconcat.map(((i,o)=>({id:i.name??"",renderableElements:kl(i,{values:u},t.encoding??{},e),bounds:wl(i,u,Ml(i)),originalData:u??[],grid:new ti,axis:new si,crosshair:new Jr,axisTooltip:new ai(n),annotations:0===o?[new oi(u[u.length-1].close,n)]:[],labels:0===o?r:[],yEncodingFields:Ml(i),yDomain:Nl(i,u)}))):[],xAxis:{id:"x-axis",originalData:a,renderableElements:[a.map((t=>new Qr({x:t.date})))],axis:new ii,axisTooltip:new ri,yEncodingFields:[]}}}(E,ye(x),t.decimalPlaces,v)),[v,t.decimalPlaces,x,E]),A=e.useCallback((async(e,n,r,i=!0)=>{const o=await t.query(r,e.toISOString(),n.toISOString());p((t=>Pe(o,i?t:[])))}),[t]);e.useEffect((()=>{const e=t;return(async t=>{await A(new Date((new Date).getTime()-6e4*me(t,100)),new Date,t,!1),b(t)})(n),function(e){t.subscribeData(e,(t=>{p((e=>Pe([t],e)))}))}(n),()=>{e.unsubscribeData()}}),[t,n,A]),e.useEffect((()=>{const e=t;return t.subscribeAnnotations&&t.subscribeAnnotations((t=>{g(t)})),()=>{e.unsubscribeAnnotations&&e.unsubscribeAnnotations()}}),[t]),e.useEffect((()=>{w(!0),t.onReady().then((t=>{w(!1),t.priceMonitoringBounds.length>0&&y(t.priceMonitoringBounds[0])}))}),[t]);const S=e.useCallback((t=>{s(t)}),[s]),k=e.useCallback(((t,e,n)=>{A(t,e,n)}),[A]),N=e.useCallback((t=>{o({...r,studies:l.filter((e=>e!==t))})}),[o,r,l]),M=e.useMemo((()=>i??{date:d.length>0?d[d.length-1].date:new Date,intervalWidth:10}),[d,i]);return _?a.default.createElement(wi,{title:"Loading"}):!_&&T?a.default.createElement(_i,null,a.default.createElement("div",{className:"chart-wrapper"},a.default.createElement(yi,{defaultHeight:150,defaultWidth:300,style:{height:"100%",width:"100%"}},(({height:e,width:n})=>a.default.createElement(tl,{ref:h,width:n,height:e,decimalPlaces:t.decimalPlaces,scenegraph:T,interval:x,initialViewport:M,onViewportChanged:S,onGetDataRange:k,onClosePanel:N}))))):a.default.createElement(wi,{title:"No data found"})}));exports.Chart=Ol,exports.chartTypeLabels={area:"Mountain",candle:"Candlestick",line:"Line"},exports.chartTypes=["area","candle","line"],exports.overlayLabels={bollinger:"Bollinger bands",envelope:"Envelope",priceMonitoringBounds:"Price monitoring bounds"},exports.overlays=["bollinger","envelope","priceMonitoringBounds"],exports.studies=["eldarRay","macd","volume"],exports.studyLabels={eldarRay:"Eldar-ray",macd:"MACD",volume:"Volume"};
